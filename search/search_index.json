{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"your your stands for Your Unified Reader. This library can read data in sigproc filterbanks, psrfits, and psrdada formats in a unified way and can go from one format to another. Format Read Write filterbank psrfits psrdada The inspiration for the name comes from the introduction of every Daily Dose of Internet video. Installation You can install your directly using pip pip install your Or if you want to try out the lastest stuff, pip install git+https://github.com/thepetabyteproject/your.git Note : To use psrdada , you would need to install psrdada-python . your_heimdall.py requires Heimdall and psrdada-python . Documentation Have a look at our docs for the documentation. Tutorials Here are some tutorial notebooks to get you started. Code Contributions We welcome all types of code contribution. Please have a look at our guideline and code of conduct .","title":"Getting Started"},{"location":"#your","text":"your stands for Your Unified Reader. This library can read data in sigproc filterbanks, psrfits, and psrdada formats in a unified way and can go from one format to another. Format Read Write filterbank psrfits psrdada The inspiration for the name comes from the introduction of every Daily Dose of Internet video.","title":"your"},{"location":"#installation","text":"You can install your directly using pip pip install your Or if you want to try out the lastest stuff, pip install git+https://github.com/thepetabyteproject/your.git Note : To use psrdada , you would need to install psrdada-python . your_heimdall.py requires Heimdall and psrdada-python .","title":"Installation"},{"location":"#documentation","text":"Have a look at our docs for the documentation.","title":"Documentation"},{"location":"#tutorials","text":"Here are some tutorial notebooks to get you started.","title":"Tutorials"},{"location":"#code-contributions","text":"We welcome all types of code contribution. Please have a look at our guideline and code of conduct .","title":"Code Contributions"},{"location":"CODE_OF_CONDUCT/","text":"Contributor Covenant Code of Conduct Our Pledge In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation. Our Standards Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting Our Responsibilities Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful. Scope This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers. Enforcement Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at devansh.kv@gmail.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership. Attribution This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq","title":"Contributor Covenant Code of Conduct"},{"location":"CODE_OF_CONDUCT/#contributor-covenant-code-of-conduct","text":"","title":"Contributor Covenant Code of Conduct"},{"location":"CODE_OF_CONDUCT/#our-pledge","text":"In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.","title":"Our Pledge"},{"location":"CODE_OF_CONDUCT/#our-standards","text":"Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting","title":"Our Standards"},{"location":"CODE_OF_CONDUCT/#our-responsibilities","text":"Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.","title":"Our Responsibilities"},{"location":"CODE_OF_CONDUCT/#scope","text":"This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.","title":"Scope"},{"location":"CODE_OF_CONDUCT/#enforcement","text":"Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at devansh.kv@gmail.com. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.","title":"Enforcement"},{"location":"CODE_OF_CONDUCT/#attribution","text":"This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq","title":"Attribution"},{"location":"CONTRIBUTING/","text":"How to contribute to Your Unified Reader Did you find a bug? Ensure the bug was not already reported by searching on GitHub under Issues . If you're unable to find an open issue addressing the problem, open a new one . Be sure to include a title and clear description , as much relevant information as possible, and a code sample or an executable test case demonstrating the expected behavior that is not occurring. If possible, use the bug report template to create the issue. Did you write a patch that fixes a bug? Open a new GitHub pull request with the patch. Ensure the PR description clearly describes the problem and solution. Include the relevant issue number if applicable. Do you intend to add a new feature or change an existing one? Suggest your change using the feature request tempelate and start writing code. Make sure you write appropritate documentation (we use Google Docstrings) and corresponding tests (using pytest). Do you have questions about the source code? Ask any question about how to use your here . Your is a volunteer effort. We encourage you to pitch in and join the team ! Thanks! Your Team","title":"Contributing Guide"},{"location":"CONTRIBUTING/#how-to-contribute-to-your-unified-reader","text":"","title":"How to contribute to Your Unified Reader"},{"location":"CONTRIBUTING/#did-you-find-a-bug","text":"Ensure the bug was not already reported by searching on GitHub under Issues . If you're unable to find an open issue addressing the problem, open a new one . Be sure to include a title and clear description , as much relevant information as possible, and a code sample or an executable test case demonstrating the expected behavior that is not occurring. If possible, use the bug report template to create the issue.","title":"Did you find a bug?"},{"location":"CONTRIBUTING/#did-you-write-a-patch-that-fixes-a-bug","text":"Open a new GitHub pull request with the patch. Ensure the PR description clearly describes the problem and solution. Include the relevant issue number if applicable.","title":"Did you write a patch that fixes a bug?"},{"location":"CONTRIBUTING/#do-you-intend-to-add-a-new-feature-or-change-an-existing-one","text":"Suggest your change using the feature request tempelate and start writing code. Make sure you write appropritate documentation (we use Google Docstrings) and corresponding tests (using pytest).","title":"Do you intend to add a new feature or change an existing one?"},{"location":"CONTRIBUTING/#do-you-have-questions-about-the-source-code","text":"Ask any question about how to use your here . Your is a volunteer effort. We encourage you to pitch in and join the team ! Thanks! Your Team","title":"Do you have questions about the source code?"},{"location":"candidate/","text":"[source] Candidate your . candidate . Candidate ( fp = None , dm = None , tcand = 0 , width = 0 , label =- 1 , snr = 0 , min_samp = 256 , device = 0 , kill_mask = None ) Candidate Class Args: fp : String or a list of files . It can either filterbank or psrfits files . dm ( float ): Dispersion Measure of the candidate tcand ( float ): start time of the candidate in seconds at the highest frequency channel width ( int ): pulse width of the candidate in samples label ( int ): 1 for pulsars / FRBs , 0 for RFI snr ( float ): Signal to Noise Ratio min_samp ( int ): Minimum number of time samples device ( int ): GPU ID if using GPUs kill_mask ( numpy . ndarray ): Boolean mask of channels to kill [source] save_h5 Candidate . save_h5 ( out_dir = None , fnout = None ) Save the candidate to a hdf5 file Args: out_dir ( str ): path to the output directory fnout ( str ): output name of the file Returns: str : output name of the file [source] dispersion_delay Candidate . dispersion_delay ( dms = None ) Caluclaute the dispersion delay for the candidate DM or at given dispersion DM Args: dms (Union[float,np.ndarray]) : DM or a list of DMs Returns: Union[float, np.ndarray]: dispersion delay in seconds [source] get_chunk Candidate . get_chunk ( tstart = None , tstop = None , for_preprocessing = True ) Get a chunk of data. The data is saved in self.data . Args: tstart ( float ): start time of the chunk in seconds tstop ( float ): stop time of the chunk in seconds for_preprocessing ( bool ): if the data is to be preprocessed later . This will modify the number of samples read based on the width of the candidate [source] dedisperse Candidate . dedisperse ( dms = None , target = \"CPU\" ) Dedisperse a chunk of data. Saves the dedispersed chunk in self.dedispersed . Note: Our method rolls the data around while dedispersing it. Args: dms ( float ): The DM to dedisperse the data at . target ( str ): 'CPU' to run the code on the CPU or 'GPU' to run it on a GPU . [source] dedispersets Candidate . dedispersets ( dms = None ) Create a dedispersed time series Note: Our method rolls the data around while dedispersing it. Args: dms (float): The DM to dedisperse the data at. Returns: numpy.ndarray: Dedispersed time series. [source] dmtime Candidate . dmtime ( dmsteps = 256 , target = \"CPU\" ) Generates DM-time array of the candidate by dedispersing at adjacent DM values. Saves the data in self.dmt . Note: Our method rolls the data around while dedispersing it. Args: dmsteps ( int ) : Number of DMs to dedisperse at . target ( str ): 'CPU' to run the code on the CPU or 'GPU' to run it on a GPU . [source] get_snr Candidate . get_snr ( time_series = None ) Calculates the SNR of the candidate Args: time_series : time series array to calculate the SNR of Returns: float : SNR [source] optimize_dm Candidate . optimize_dm () Calculate more precise value of the DM by interpolating between DM values to maximise the SNR Note: This function has not been fully tested. Returns: optimnised DM, optimised SNR [source] decimate Candidate . decimate ( key , decimate_factor , axis , pad = False , ** kwargs ) Decimate FT or DMT data. Todo: * Update candidate parameters as per decimation factor Args: key ( str ): Keywords to chose which data to decimate ( 'dmt' or 'ft' ) decimate_factor ( int ): Number of samples to average axis ( int ): Axis to decimate along pad ( bool ): Optional argument if padding is to be done ** kwargs : kwargs for numpy . pad [source] resize Candidate . resize ( key , size , axis , ** kwargs ) Resize FT or DMT data Todo: * Update candidate parameters as per final size Args: key ( str ): Keywords to chose which data to resize ( 'dmt' or 'ft' ) size : Final size of the data array required axis ( int ) : Axis to resize alone ** kwargs : Arguments for skimage . transform resize function","title":"Candiate"},{"location":"candidate/#candidate","text":"your . candidate . Candidate ( fp = None , dm = None , tcand = 0 , width = 0 , label =- 1 , snr = 0 , min_samp = 256 , device = 0 , kill_mask = None ) Candidate Class Args: fp : String or a list of files . It can either filterbank or psrfits files . dm ( float ): Dispersion Measure of the candidate tcand ( float ): start time of the candidate in seconds at the highest frequency channel width ( int ): pulse width of the candidate in samples label ( int ): 1 for pulsars / FRBs , 0 for RFI snr ( float ): Signal to Noise Ratio min_samp ( int ): Minimum number of time samples device ( int ): GPU ID if using GPUs kill_mask ( numpy . ndarray ): Boolean mask of channels to kill [source]","title":"Candidate"},{"location":"candidate/#save_h5","text":"Candidate . save_h5 ( out_dir = None , fnout = None ) Save the candidate to a hdf5 file Args: out_dir ( str ): path to the output directory fnout ( str ): output name of the file Returns: str : output name of the file [source]","title":"save_h5"},{"location":"candidate/#dispersion_delay","text":"Candidate . dispersion_delay ( dms = None ) Caluclaute the dispersion delay for the candidate DM or at given dispersion DM Args: dms (Union[float,np.ndarray]) : DM or a list of DMs Returns: Union[float, np.ndarray]: dispersion delay in seconds [source]","title":"dispersion_delay"},{"location":"candidate/#get_chunk","text":"Candidate . get_chunk ( tstart = None , tstop = None , for_preprocessing = True ) Get a chunk of data. The data is saved in self.data . Args: tstart ( float ): start time of the chunk in seconds tstop ( float ): stop time of the chunk in seconds for_preprocessing ( bool ): if the data is to be preprocessed later . This will modify the number of samples read based on the width of the candidate [source]","title":"get_chunk"},{"location":"candidate/#dedisperse","text":"Candidate . dedisperse ( dms = None , target = \"CPU\" ) Dedisperse a chunk of data. Saves the dedispersed chunk in self.dedispersed . Note: Our method rolls the data around while dedispersing it. Args: dms ( float ): The DM to dedisperse the data at . target ( str ): 'CPU' to run the code on the CPU or 'GPU' to run it on a GPU . [source]","title":"dedisperse"},{"location":"candidate/#dedispersets","text":"Candidate . dedispersets ( dms = None ) Create a dedispersed time series Note: Our method rolls the data around while dedispersing it. Args: dms (float): The DM to dedisperse the data at. Returns: numpy.ndarray: Dedispersed time series. [source]","title":"dedispersets"},{"location":"candidate/#dmtime","text":"Candidate . dmtime ( dmsteps = 256 , target = \"CPU\" ) Generates DM-time array of the candidate by dedispersing at adjacent DM values. Saves the data in self.dmt . Note: Our method rolls the data around while dedispersing it. Args: dmsteps ( int ) : Number of DMs to dedisperse at . target ( str ): 'CPU' to run the code on the CPU or 'GPU' to run it on a GPU . [source]","title":"dmtime"},{"location":"candidate/#get_snr","text":"Candidate . get_snr ( time_series = None ) Calculates the SNR of the candidate Args: time_series : time series array to calculate the SNR of Returns: float : SNR [source]","title":"get_snr"},{"location":"candidate/#optimize_dm","text":"Candidate . optimize_dm () Calculate more precise value of the DM by interpolating between DM values to maximise the SNR Note: This function has not been fully tested. Returns: optimnised DM, optimised SNR [source]","title":"optimize_dm"},{"location":"candidate/#decimate","text":"Candidate . decimate ( key , decimate_factor , axis , pad = False , ** kwargs ) Decimate FT or DMT data. Todo: * Update candidate parameters as per decimation factor Args: key ( str ): Keywords to chose which data to decimate ( 'dmt' or 'ft' ) decimate_factor ( int ): Number of samples to average axis ( int ): Axis to decimate along pad ( bool ): Optional argument if padding is to be done ** kwargs : kwargs for numpy . pad [source]","title":"decimate"},{"location":"candidate/#resize","text":"Candidate . resize ( key , size , axis , ** kwargs ) Resize FT or DMT data Todo: * Update candidate parameters as per final size Args: key ( str ): Keywords to chose which data to resize ( 'dmt' or 'ft' ) size : Final size of the data array required axis ( int ) : Axis to resize alone ** kwargs : Arguments for skimage . transform resize function","title":"resize"},{"location":"cli/","text":"Command Line Interface Overview Your comes with a set of command line scripts. Script Description your_candmaker.py Your candmaker! Make h5 candidates from the candidate csv files your_header.py Read header from fits/fil files and print the your header your_viewer.py Read fits/fil file and show the data your_writer.py Convert/Write files from any format to a single file in any format. your_heimdall.py Your Heimdall Fetch FRB your_combine_mocks.py Combine two bands from mock spectrometer to a filterbank file. your_h5plotter.py Plot candidate h5 files your_rfimask.py Make Bad channel mask your_bandpass.py Generate bandpass of data","title":"Command Line Scripts"},{"location":"cli/#command-line-interface","text":"","title":"Command Line Interface"},{"location":"cli/#overview","text":"Your comes with a set of command line scripts. Script Description your_candmaker.py Your candmaker! Make h5 candidates from the candidate csv files your_header.py Read header from fits/fil files and print the your header your_viewer.py Read fits/fil file and show the data your_writer.py Convert/Write files from any format to a single file in any format. your_heimdall.py Your Heimdall Fetch FRB your_combine_mocks.py Combine two bands from mock spectrometer to a filterbank file. your_h5plotter.py Plot candidate h5 files your_rfimask.py Make Bad channel mask your_bandpass.py Generate bandpass of data","title":"Overview"},{"location":"writer/","text":"[source] Writer your . writer . Writer ( your_object , nstart = None , nsamp = None , c_min = None , c_max = None , outdir = None , outname = None , flag_rfi = False , progress = None , spectral_kurtosis_sigma = 4 , savgol_frequency_window = 15 , savgol_sigma = 4 , zero_dm_subt = False , ) Writer class Args: your_object : Your object nstart : Start sample to read from nsamp : Number of samples to write c_min : Starting channel index ( default : 0 ) c_max : End channel index ( default : total number of frequencies ) outdir : Output directory for file outname : Name of the file to write to ( without the file extension ) progress : Turn on / off progress bar flag_rfi : To turn on RFI flagging sk_sig : Sigma for spectral kurtosis filter sg_fw : Filter window for savgol filter sg_sig : Sigma for savgol filter zero_dm_subt : Enable zero DM rfi excision [source] to_fil Writer . to_fil () Writes out a Filterbank File. [source] to_fits Writer . to_fits ( npsub =- 1 ) Writes out a PSRFITS file Args: npsub : number of spectra per subint","title":"Writer"},{"location":"writer/#writer","text":"your . writer . Writer ( your_object , nstart = None , nsamp = None , c_min = None , c_max = None , outdir = None , outname = None , flag_rfi = False , progress = None , spectral_kurtosis_sigma = 4 , savgol_frequency_window = 15 , savgol_sigma = 4 , zero_dm_subt = False , ) Writer class Args: your_object : Your object nstart : Start sample to read from nsamp : Number of samples to write c_min : Starting channel index ( default : 0 ) c_max : End channel index ( default : total number of frequencies ) outdir : Output directory for file outname : Name of the file to write to ( without the file extension ) progress : Turn on / off progress bar flag_rfi : To turn on RFI flagging sk_sig : Sigma for spectral kurtosis filter sg_fw : Filter window for savgol filter sg_sig : Sigma for savgol filter zero_dm_subt : Enable zero DM rfi excision [source]","title":"Writer"},{"location":"writer/#to_fil","text":"Writer . to_fil () Writes out a Filterbank File. [source]","title":"to_fil"},{"location":"writer/#to_fits","text":"Writer . to_fits ( npsub =- 1 ) Writes out a PSRFITS file Args: npsub : number of spectra per subint","title":"to_fits"},{"location":"your/","text":"[source] Your your . Your ( file ) Your class. Args: file : String or a list of files . It can either filterbank or psrfits files . Examples: your_object = your . Your ( \"/path/to/filterbank.fil\" ) your_object = your . Your ([ \"puppi_58763_B1919+21_0292_0001.fits\" , \"puppi_58763_B1919+21_0292_0002.fits\" ] Attributes: isfits ( bool ): your object made from fits files isfil ( bool ) : your object makde from filterbank file your_header : instance of the Header class [source] bandpass Your . bandpass ( nspectra = None ) Create the bandpass of the file Args: nspectra (int): Number of spectra to create bandpass from. Returns: numpy.ndarray: bandpass array [source] get_data Your . get_data ( nstart , nsamp , time_decimation_factor = None , frequency_decimation_factor = None , pol = 0 ) Read data from files Args: nstart ( int ): start sample nsamp ( int ): number of samples to read time_decimation_factor ( int ): decimate in time with this factor frequency_decimation_factor ( int ): decimate in frequency with this factor pol ( int ): which polarization to chose Note: Both decimation factors should exactly device the nsamp or nchans Returns: numpy.ndarray: 2D numpy array of data [source] dispersion_delay Your . dispersion_delay ( dms = 5000 ) Calculate the dispersion delay in seconds for the given configuration Args: dms : DM or a list of DM values Returns: Dispersion delay in seconds. [source] Header your . Header ( your ) Your Header class, it contains all the relevant metadata. Args: Your object Attributes: filelist : List of files used to make the your object filename ( str ) : Name of the first file used to make the object basename ( str ): Base name of file source_name ( str ): Source Name ra_deg ( float ): RA of the source in degrees dec_deg ( float ): Dec of the source in degrees bw ( float ): bandwidth of the data center_freq ( float ): Center frequency of the data . time_decimation_factor ( int ): Number of time samples to average frequency_decimation_factor ( int ): Number of frequency channels to average native_tsamp ( float ): Sampling time of the data pre decimation ( seconds ) native_foff ( float ): Channel bandwidth of the data pre decimation ( MHz ) native_nchans : Number of channels in the data pre decimation native_nspectra : Number of spectra in the data pre decimation dtype : dtype of the ( read ) data nbits ( int ): Number of bits in the data tstart ( float ): Start MJD of the data fch1 ( float ): Frequency of the first channel ( MHz ) npol ( int ) : Number of polarisations in the data","title":"Your"},{"location":"your/#your","text":"your . Your ( file ) Your class. Args: file : String or a list of files . It can either filterbank or psrfits files . Examples: your_object = your . Your ( \"/path/to/filterbank.fil\" ) your_object = your . Your ([ \"puppi_58763_B1919+21_0292_0001.fits\" , \"puppi_58763_B1919+21_0292_0002.fits\" ] Attributes: isfits ( bool ): your object made from fits files isfil ( bool ) : your object makde from filterbank file your_header : instance of the Header class [source]","title":"Your"},{"location":"your/#bandpass","text":"Your . bandpass ( nspectra = None ) Create the bandpass of the file Args: nspectra (int): Number of spectra to create bandpass from. Returns: numpy.ndarray: bandpass array [source]","title":"bandpass"},{"location":"your/#get_data","text":"Your . get_data ( nstart , nsamp , time_decimation_factor = None , frequency_decimation_factor = None , pol = 0 ) Read data from files Args: nstart ( int ): start sample nsamp ( int ): number of samples to read time_decimation_factor ( int ): decimate in time with this factor frequency_decimation_factor ( int ): decimate in frequency with this factor pol ( int ): which polarization to chose Note: Both decimation factors should exactly device the nsamp or nchans Returns: numpy.ndarray: 2D numpy array of data [source]","title":"get_data"},{"location":"your/#dispersion_delay","text":"Your . dispersion_delay ( dms = 5000 ) Calculate the dispersion delay in seconds for the given configuration Args: dms : DM or a list of DM values Returns: Dispersion delay in seconds. [source]","title":"dispersion_delay"},{"location":"your/#header","text":"your . Header ( your ) Your Header class, it contains all the relevant metadata. Args: Your object Attributes: filelist : List of files used to make the your object filename ( str ) : Name of the first file used to make the object basename ( str ): Base name of file source_name ( str ): Source Name ra_deg ( float ): RA of the source in degrees dec_deg ( float ): Dec of the source in degrees bw ( float ): bandwidth of the data center_freq ( float ): Center frequency of the data . time_decimation_factor ( int ): Number of time samples to average frequency_decimation_factor ( int ): Number of frequency channels to average native_tsamp ( float ): Sampling time of the data pre decimation ( seconds ) native_foff ( float ): Channel bandwidth of the data pre decimation ( MHz ) native_nchans : Number of channels in the data pre decimation native_nspectra : Number of spectra in the data pre decimation dtype : dtype of the ( read ) data nbits ( int ): Number of bits in the data tstart ( float ): Start MJD of the data fch1 ( float ): Frequency of the first channel ( MHz ) npol ( int ) : Number of polarisations in the data","title":"Header"},{"location":"bin/your_bandpass/","text":"your_bandpass.py Description Generate bandpass of data Usage: usage: your_bandpass.py [ -h ] -f FILES [ FILES ... ] [ -n NSPECTRA ] [ -t TIME ] [ -b NAME ] Arguments short long default help -h --help show this help message and exit -f --files None Fits or filterbank files to read. -n --nspectra 8192 Number of spectra to use for bandpass. -t --time 0 Time (s) to use for bandpass. -b --name None Name of bandpass png","title":"your_bandpass.py"},{"location":"bin/your_bandpass/#your_bandpasspy","text":"","title":"your_bandpass.py"},{"location":"bin/your_bandpass/#description","text":"Generate bandpass of data","title":"Description"},{"location":"bin/your_bandpass/#usage","text":"usage: your_bandpass.py [ -h ] -f FILES [ FILES ... ] [ -n NSPECTRA ] [ -t TIME ] [ -b NAME ]","title":"Usage:"},{"location":"bin/your_bandpass/#arguments","text":"short long default help -h --help show this help message and exit -f --files None Fits or filterbank files to read. -n --nspectra 8192 Number of spectra to use for bandpass. -t --time 0 Time (s) to use for bandpass. -b --name None Name of bandpass png","title":"Arguments"},{"location":"bin/your_candmaker/","text":"your_candmaker.py Description Your candmaker! Make h5 candidates from the candidate csv files Usage: usage: your_candmaker.py [ -h ] [ -v ] [ -fs FREQUENCY_SIZE ] [ -g GPU_ID [ GPU_ID ... ]] [ -ts TIME_SIZE ] -c CAND_PARAM_FILE [ -n NPROC ] [ -o FOUT ] [ -opt ] Arguments short long default help -h --help show this help message and exit -v --verbose Be verbose -fs --frequency_size 256 Frequency size after rebinning -g --gpu_id [-1] GPU ID (use -1 for CPU). To use multiple GPUs (say with id 2 and 3 use -g 2 3 -ts --time_size 256 Time length after rebinning -c --cand_param_file None csv file with candidate parameters -n --nproc 2 number of processors to use in parallel (default: 2) -o --fout . Output file directory for candidate h5 -opt --opt_dm Optimise DM","title":"your_candmaker.py"},{"location":"bin/your_candmaker/#your_candmakerpy","text":"","title":"your_candmaker.py"},{"location":"bin/your_candmaker/#description","text":"Your candmaker! Make h5 candidates from the candidate csv files","title":"Description"},{"location":"bin/your_candmaker/#usage","text":"usage: your_candmaker.py [ -h ] [ -v ] [ -fs FREQUENCY_SIZE ] [ -g GPU_ID [ GPU_ID ... ]] [ -ts TIME_SIZE ] -c CAND_PARAM_FILE [ -n NPROC ] [ -o FOUT ] [ -opt ]","title":"Usage:"},{"location":"bin/your_candmaker/#arguments","text":"short long default help -h --help show this help message and exit -v --verbose Be verbose -fs --frequency_size 256 Frequency size after rebinning -g --gpu_id [-1] GPU ID (use -1 for CPU). To use multiple GPUs (say with id 2 and 3 use -g 2 3 -ts --time_size 256 Time length after rebinning -c --cand_param_file None csv file with candidate parameters -n --nproc 2 number of processors to use in parallel (default: 2) -o --fout . Output file directory for candidate h5 -opt --opt_dm Optimise DM","title":"Arguments"},{"location":"bin/your_combine_mocks/","text":"your_combine_mocks.py Description Combine two bands from mock spectrometer to a filterbank file. Usage: usage: your_combine_mocks.py [ -h ] [ -v ] [ -f1 FIRST_BAND ] [ -f2 SECOND_BAND ] [ -s NSTART ] [ -n NSAMP ] [ -o OUTDIR ] [ -fil FIL_NAME ] [ -a ALL_FILES ] Arguments short long default help -h --help show this help message and exit -v --verbose Be verbose -f1 --first_band None Path of files containing one band -f2 --second_band None Path of files containing second band -s --nstart 0 Start sample number -n --nsamp -1 Number of samples to read (-1: whole file) -o --outdir . Output directory for Filterbank file -fil --fil_name None Output name of the Filterbank file -a --all_files None Process all files in the given directory","title":"your_combine_mocks.py"},{"location":"bin/your_combine_mocks/#your_combine_mockspy","text":"","title":"your_combine_mocks.py"},{"location":"bin/your_combine_mocks/#description","text":"Combine two bands from mock spectrometer to a filterbank file.","title":"Description"},{"location":"bin/your_combine_mocks/#usage","text":"usage: your_combine_mocks.py [ -h ] [ -v ] [ -f1 FIRST_BAND ] [ -f2 SECOND_BAND ] [ -s NSTART ] [ -n NSAMP ] [ -o OUTDIR ] [ -fil FIL_NAME ] [ -a ALL_FILES ]","title":"Usage:"},{"location":"bin/your_combine_mocks/#arguments","text":"short long default help -h --help show this help message and exit -v --verbose Be verbose -f1 --first_band None Path of files containing one band -f2 --second_band None Path of files containing second band -s --nstart 0 Start sample number -n --nsamp -1 Number of samples to read (-1: whole file) -o --outdir . Output directory for Filterbank file -fil --fil_name None Output name of the Filterbank file -a --all_files None Process all files in the given directory","title":"Arguments"},{"location":"bin/your_h5plotter/","text":"your_h5plotter.py Description Plot candidate h5 files Usage: usage: your_h5plotter.py [ -h ] [ -v ] [ -f FILES [ FILES ... ]] [ -c RESULTS_CSV ] [ --publish ] [ --no_detrend_ft ] [ --no_save ] [ -o OUT_DIR ] [ -mad [ MAD_FILTER ]] [ -n NPROC ] [ --no_progress ] Arguments short long default help -h --help show this help message and exit -v --verbose Be verbose -f --files None h5 files to be plotted -c --results_csv None Plot positives in results.csv --publish Make publication quality plots --no_detrend_ft Detrend the frequency-time plot --no_save Do not save the plot -o --out_dir None Directory to save pngs (default: h5 dir) -mad --mad_filter Median Absolute Deviation spectal clipper, default 3 sigma -n --nproc 4 Number of processors to use in parallel (default: 4) --no_progress None Do not show the tqdm bar","title":"your_h5plotter.py"},{"location":"bin/your_h5plotter/#your_h5plotterpy","text":"","title":"your_h5plotter.py"},{"location":"bin/your_h5plotter/#description","text":"Plot candidate h5 files","title":"Description"},{"location":"bin/your_h5plotter/#usage","text":"usage: your_h5plotter.py [ -h ] [ -v ] [ -f FILES [ FILES ... ]] [ -c RESULTS_CSV ] [ --publish ] [ --no_detrend_ft ] [ --no_save ] [ -o OUT_DIR ] [ -mad [ MAD_FILTER ]] [ -n NPROC ] [ --no_progress ]","title":"Usage:"},{"location":"bin/your_h5plotter/#arguments","text":"short long default help -h --help show this help message and exit -v --verbose Be verbose -f --files None h5 files to be plotted -c --results_csv None Plot positives in results.csv --publish Make publication quality plots --no_detrend_ft Detrend the frequency-time plot --no_save Do not save the plot -o --out_dir None Directory to save pngs (default: h5 dir) -mad --mad_filter Median Absolute Deviation spectal clipper, default 3 sigma -n --nproc 4 Number of processors to use in parallel (default: 4) --no_progress None Do not show the tqdm bar","title":"Arguments"},{"location":"bin/your_header/","text":"your_header.py Description Read header from fits/fil files and print the your header Usage: usage: your_header.py [ -h ] -f FILES [ FILES ... ] Arguments short long default help -h --help show this help message and exit -f --files None Fits or filterbank files to read header.","title":"your_header.py"},{"location":"bin/your_header/#your_headerpy","text":"","title":"your_header.py"},{"location":"bin/your_header/#description","text":"Read header from fits/fil files and print the your header","title":"Description"},{"location":"bin/your_header/#usage","text":"usage: your_header.py [ -h ] -f FILES [ FILES ... ]","title":"Usage:"},{"location":"bin/your_header/#arguments","text":"short long default help -h --help show this help message and exit -f --files None Fits or filterbank files to read header.","title":"Arguments"},{"location":"bin/your_heimdall/","text":"your_heimdall.py Description Your Heimdall Fetch FRB Usage: usage: your_heimdall.py [ -h ] [ -v ] [ -p PROBABILITY ] [ -f FILES [ FILES ... ]] [ -dm DM DM ] [ -g GPU_ID ] [ -sg ] [ -frequency_window FILTER_WINDOW ] [ -sigma SIGMA ] [ -m MASK ] [ -dm_tol DM_TOL ] [ -rfi_no_narrow ] [ -rfi_no_broad ] [ -o OUTPUT_DIR ] [ --no_progress ] Arguments short long default help -h --help show this help message and exit -v --verbose Be verbose -p --probability 0.5 Detection threshold -f --files None filterbank or psrfits -dm --dm [10, 1000] DM (eg -dm 10 1000) -g --gpu_id 0 GPU ID to run heimdall on -sg --apply_savgol Apply savgol filter to zap bad channels -frequency_window --filter_window 15 Window size (MHz) for savgol filter -sigma --sigma 6 Sigma for the savgol filter -m --mask None Input RFI mask (could be 1-D bad channel mask or 2-D FT mask) -dm_tol --dm_tol 1.25 SNR loss tolerance between DM trials -rfi_no_narrow --rfi_no_narrow disable narrow band RFI excision -rfi_no_broad --rfi_no_broad disable 0-DM RFI excision -o --output_dir None Output dir for heimdall candidates --no_progress None Do not show the tqdm bar","title":"your_heimdall.py"},{"location":"bin/your_heimdall/#your_heimdallpy","text":"","title":"your_heimdall.py"},{"location":"bin/your_heimdall/#description","text":"Your Heimdall Fetch FRB","title":"Description"},{"location":"bin/your_heimdall/#usage","text":"usage: your_heimdall.py [ -h ] [ -v ] [ -p PROBABILITY ] [ -f FILES [ FILES ... ]] [ -dm DM DM ] [ -g GPU_ID ] [ -sg ] [ -frequency_window FILTER_WINDOW ] [ -sigma SIGMA ] [ -m MASK ] [ -dm_tol DM_TOL ] [ -rfi_no_narrow ] [ -rfi_no_broad ] [ -o OUTPUT_DIR ] [ --no_progress ]","title":"Usage:"},{"location":"bin/your_heimdall/#arguments","text":"short long default help -h --help show this help message and exit -v --verbose Be verbose -p --probability 0.5 Detection threshold -f --files None filterbank or psrfits -dm --dm [10, 1000] DM (eg -dm 10 1000) -g --gpu_id 0 GPU ID to run heimdall on -sg --apply_savgol Apply savgol filter to zap bad channels -frequency_window --filter_window 15 Window size (MHz) for savgol filter -sigma --sigma 6 Sigma for the savgol filter -m --mask None Input RFI mask (could be 1-D bad channel mask or 2-D FT mask) -dm_tol --dm_tol 1.25 SNR loss tolerance between DM trials -rfi_no_narrow --rfi_no_narrow disable narrow band RFI excision -rfi_no_broad --rfi_no_broad disable 0-DM RFI excision -o --output_dir None Output dir for heimdall candidates --no_progress None Do not show the tqdm bar","title":"Arguments"},{"location":"bin/your_rfimask/","text":"your_rfimask.py Description Make Bad channel mask Usage: usage: your_rfimask.py [ -h ] [ -f FILES [ FILES ... ]] [ -sg ] [ -frequency_window FILTER_WINDOW [ FILTER_WINDOW ... ]] [ -sigma SIGMA [ SIGMA ... ]] [ -o OUTPUT_DIR ] Arguments short long default help -h --help show this help message and exit -f --files None filterbank or psrfits -sg --apply_savgol Apply savgol filter to zap bad channels -frequency_window --filter_window [15] Window size (MHz) for savgol filter -sigma --sigma [6] Sigma for the savgol filter -o --output_dir . Output dir for heimdall candidates","title":"your_rfimask.py"},{"location":"bin/your_rfimask/#your_rfimaskpy","text":"","title":"your_rfimask.py"},{"location":"bin/your_rfimask/#description","text":"Make Bad channel mask","title":"Description"},{"location":"bin/your_rfimask/#usage","text":"usage: your_rfimask.py [ -h ] [ -f FILES [ FILES ... ]] [ -sg ] [ -frequency_window FILTER_WINDOW [ FILTER_WINDOW ... ]] [ -sigma SIGMA [ SIGMA ... ]] [ -o OUTPUT_DIR ]","title":"Usage:"},{"location":"bin/your_rfimask/#arguments","text":"short long default help -h --help show this help message and exit -f --files None filterbank or psrfits -sg --apply_savgol Apply savgol filter to zap bad channels -frequency_window --filter_window [15] Window size (MHz) for savgol filter -sigma --sigma [6] Sigma for the savgol filter -o --output_dir . Output dir for heimdall candidates","title":"Arguments"},{"location":"bin/your_viewer/","text":"your_viewer.py Description Read fits/fil file and show the data Usage: usage: your_viewer.py [ -h ] [ -f FILES [ FILES ... ]] [ -s START ] [ -g GULP ] [ -e ] [ -d width height ] [ -v ] Arguments short long default help -h --help show this help message and exit -f --files [''] Fits or filterbank files to view. -s --start 0 Start index -g --gulp 4096 Gulp size -e --chan_std Show 1 standard devation per channel in bandpass -d --display [1024, 640] Display size for the plot -v --verbose Be verbose","title":"your_viewer.py"},{"location":"bin/your_viewer/#your_viewerpy","text":"","title":"your_viewer.py"},{"location":"bin/your_viewer/#description","text":"Read fits/fil file and show the data","title":"Description"},{"location":"bin/your_viewer/#usage","text":"usage: your_viewer.py [ -h ] [ -f FILES [ FILES ... ]] [ -s START ] [ -g GULP ] [ -e ] [ -d width height ] [ -v ]","title":"Usage:"},{"location":"bin/your_viewer/#arguments","text":"short long default help -h --help show this help message and exit -f --files [''] Fits or filterbank files to view. -s --start 0 Start index -g --gulp 4096 Gulp size -e --chan_std Show 1 standard devation per channel in bandpass -d --display [1024, 640] Display size for the plot -v --verbose Be verbose","title":"Arguments"},{"location":"bin/your_writer/","text":"your_writer.py Description Convert/Write files from any format to a single file in any format. Usage: usage: your_writer.py [ -h ] [ -v ] -f FILES [ FILES ... ] -t TYPE [ -c CHANS CHANS ] [ -nstart NSTART ] [ -nsamp NSAMP ] [ -o OUTDIR ] [ -name OUT_NAME ] [ --no_progress ] [ -r ] [ -sksig SPECTRAL_KURTOSIS_SIGMA ] [ -sgsig SAVGOL_SIGMA ] [ -sgfw SAVGOL_FREQUENCY_WINDOW ] [ -zero_dm_subt ] Arguments short long default help -h --help show this help message and exit -v --verbose Be verbose -f --files None Paths of input files to be converted to an output format. -t --type None Output file type (fits or fil) -c --chans [None, None] Required channels (eg -c 0 4096) -nstart --nstart None Start spectra number -nsamp --nsamp None Number of spectra to convert -o --outdir . Output directory for the file -name --out_name None Output name of the file --no_progress None Do not show the tqdm bar -r --flag_rfi Turn on RFI flagging -sksig --spectral_kurtosis_sigma 4 Sigma for spectral kurtosis filter -sgsig --savgol_sigma 4 Sigma for savgol filter -sgfw --savgol_frequency_window 15 Filter window for savgol filter (MHz) -zero_dm_subt --zero_dm_subt Enable 0 DM subtraction","title":"your_writer.py"},{"location":"bin/your_writer/#your_writerpy","text":"","title":"your_writer.py"},{"location":"bin/your_writer/#description","text":"Convert/Write files from any format to a single file in any format.","title":"Description"},{"location":"bin/your_writer/#usage","text":"usage: your_writer.py [ -h ] [ -v ] -f FILES [ FILES ... ] -t TYPE [ -c CHANS CHANS ] [ -nstart NSTART ] [ -nsamp NSAMP ] [ -o OUTDIR ] [ -name OUT_NAME ] [ --no_progress ] [ -r ] [ -sksig SPECTRAL_KURTOSIS_SIGMA ] [ -sgsig SAVGOL_SIGMA ] [ -sgfw SAVGOL_FREQUENCY_WINDOW ] [ -zero_dm_subt ]","title":"Usage:"},{"location":"bin/your_writer/#arguments","text":"short long default help -h --help show this help message and exit -v --verbose Be verbose -f --files None Paths of input files to be converted to an output format. -t --type None Output file type (fits or fil) -c --chans [None, None] Required channels (eg -c 0 4096) -nstart --nstart None Start spectra number -nsamp --nsamp None Number of spectra to convert -o --outdir . Output directory for the file -name --out_name None Output name of the file --no_progress None Do not show the tqdm bar -r --flag_rfi Turn on RFI flagging -sksig --spectral_kurtosis_sigma 4 Sigma for spectral kurtosis filter -sgsig --savgol_sigma 4 Sigma for savgol filter -sgfw --savgol_frequency_window 15 Filter window for savgol filter (MHz) -zero_dm_subt --zero_dm_subt Enable 0 DM subtraction","title":"Arguments"},{"location":"formats/filwriter/","text":"[source] make_sigproc_obj your . formats . filwriter . make_sigproc_obj ( filfile , your_object , nchans , chan_freq , nstart ) Use Your class to make Sigproc class object with relevant parameters Args: filfile : Name of the Filterbank file your_object : Your object for the PSRFITS files nchans ( int ) : No . of channels in the frequency range chan_freq ( np . ndarray ) : An array of required frequency channel range nstart ( int ): Start sample Returns: obj : Object of class SigprocFile [source] write_fil your . formats . filwriter . write_fil ( data , your_object , nchans = None , chan_freq = None , filename = None , outdir = None , nstart = None ) Write Filterbank file given the Your object Args: data : Data to write to the Filterbank file your_object : Your object for the PSRFITS files nchans : No . of channels in the frequency range chan_freq : Required frequency channel range filename : Output name of the Filterbank file outdir : Output directory for the Filterbank file nstart : Start sample number","title":"FilWriter"},{"location":"formats/filwriter/#make_sigproc_obj","text":"your . formats . filwriter . make_sigproc_obj ( filfile , your_object , nchans , chan_freq , nstart ) Use Your class to make Sigproc class object with relevant parameters Args: filfile : Name of the Filterbank file your_object : Your object for the PSRFITS files nchans ( int ) : No . of channels in the frequency range chan_freq ( np . ndarray ) : An array of required frequency channel range nstart ( int ): Start sample Returns: obj : Object of class SigprocFile [source]","title":"make_sigproc_obj"},{"location":"formats/filwriter/#write_fil","text":"your . formats . filwriter . write_fil ( data , your_object , nchans = None , chan_freq = None , filename = None , outdir = None , nstart = None ) Write Filterbank file given the Your object Args: data : Data to write to the Filterbank file your_object : Your object for the PSRFITS files nchans : No . of channels in the frequency range chan_freq : Required frequency channel range filename : Output name of the Filterbank file outdir : Output directory for the Filterbank file nstart : Start sample number","title":"write_fil"},{"location":"formats/fitswriter/","text":"[source] initialize_psrfits your . formats . fitswriter . initialize_psrfits ( outfile , your_object , npsub =- 1 , nstart = None , nsamp = None , chan_freqs = None ) Set up a PSRFITS file with everything set up EXCEPT the DATA. Args: outfile : path to the output fits file to write to your_object : your object with the input Filterbank file npsub : number of spectra in a subint nstart : start sample to read from ( for the input file ) nsamp : number of spectra to read chan_freqs : array with frequencies of all the channels [source] ObsInfo your . formats . fitswriter . ObsInfo () Class to setup observation info for psrfits header","title":"FitsWriter"},{"location":"formats/fitswriter/#initialize_psrfits","text":"your . formats . fitswriter . initialize_psrfits ( outfile , your_object , npsub =- 1 , nstart = None , nsamp = None , chan_freqs = None ) Set up a PSRFITS file with everything set up EXCEPT the DATA. Args: outfile : path to the output fits file to write to your_object : your object with the input Filterbank file npsub : number of spectra in a subint nstart : start sample to read from ( for the input file ) nsamp : number of spectra to read chan_freqs : array with frequencies of all the channels [source]","title":"initialize_psrfits"},{"location":"formats/fitswriter/#obsinfo","text":"your . formats . fitswriter . ObsInfo () Class to setup observation info for psrfits header","title":"ObsInfo"},{"location":"formats/psrdada/","text":"[source] DadaManager your . formats . dada . DadaManager ( size , key = 56026 , n_readers = 1 ) A manager class for psrdada writer. Args: size ( int ): size of each buffer ( in bytes ) key ( hex ): hexadecimal dada key n_readers ( int ): Number of dada readers . [source] setup DadaManager . setup () Kill any previous buffers with the same key. Set up the dada buffers and connect to a writer. [source] dump_header DadaManager . dump_header ( header ) Set the psrdada header [source] dump_data DadaManager . dump_data ( data_input ) Dump the data to the buffer Args: data_input (numpy.ndarray): Numpy array of the data. [source] mark_filled DadaManager . mark_filled () Mark that data is filled in the buffer page. [source] eod DadaManager . eod () Mark the end of data. [source] teardown DadaManager . teardown () Disconnect the writer and tear down the buffers. [source] YourDada your . formats . dada . YourDada ( your_object ) Linker class between psrdada and your . Args: your_object : your object [source] setup YourDada . setup () Start the dada manager and make the header. [source] teardown YourDada . teardown () Tear down the dada header. [source] your_dada_header YourDada . your_dada_header () Make dada header from your_header . Returns: dict : dada header as a python dictionary . [source] to_dada YourDada . to_dada ( progress = None ) Dump the data to the dada buffer Args: progress : if `False` will not show the progress bar .","title":"Psrdada"},{"location":"formats/psrdada/#dadamanager","text":"your . formats . dada . DadaManager ( size , key = 56026 , n_readers = 1 ) A manager class for psrdada writer. Args: size ( int ): size of each buffer ( in bytes ) key ( hex ): hexadecimal dada key n_readers ( int ): Number of dada readers . [source]","title":"DadaManager"},{"location":"formats/psrdada/#setup","text":"DadaManager . setup () Kill any previous buffers with the same key. Set up the dada buffers and connect to a writer. [source]","title":"setup"},{"location":"formats/psrdada/#dump_header","text":"DadaManager . dump_header ( header ) Set the psrdada header [source]","title":"dump_header"},{"location":"formats/psrdada/#dump_data","text":"DadaManager . dump_data ( data_input ) Dump the data to the buffer Args: data_input (numpy.ndarray): Numpy array of the data. [source]","title":"dump_data"},{"location":"formats/psrdada/#mark_filled","text":"DadaManager . mark_filled () Mark that data is filled in the buffer page. [source]","title":"mark_filled"},{"location":"formats/psrdada/#eod","text":"DadaManager . eod () Mark the end of data. [source]","title":"eod"},{"location":"formats/psrdada/#teardown","text":"DadaManager . teardown () Disconnect the writer and tear down the buffers. [source]","title":"teardown"},{"location":"formats/psrdada/#yourdada","text":"your . formats . dada . YourDada ( your_object ) Linker class between psrdada and your . Args: your_object : your object [source]","title":"YourDada"},{"location":"formats/psrdada/#setup_1","text":"YourDada . setup () Start the dada manager and make the header. [source]","title":"setup"},{"location":"formats/psrdada/#teardown_1","text":"YourDada . teardown () Tear down the dada header. [source]","title":"teardown"},{"location":"formats/psrdada/#your_dada_header","text":"YourDada . your_dada_header () Make dada header from your_header . Returns: dict : dada header as a python dictionary . [source]","title":"your_dada_header"},{"location":"formats/psrdada/#to_dada","text":"YourDada . to_dada ( progress = None ) Dump the data to the dada buffer Args: progress : if `False` will not show the progress bar .","title":"to_dada"},{"location":"formats/psrfits/","text":"[source] PsrfitsFile your . formats . psrfits . PsrfitsFile ( psrfitslist ) Simple functions for reading psrfits files from python. Not all possible features are implemented. Original Source from Scott Ransom's psrfits . Args: psrfitslist (str): list of files Attributes: filename ( str ): Name of the first file filelist ( list ): List of files fileid ( int ): Index of the current file fits ( obj ): fits object of the current file read specinfo ( obj ): Object of class SpectraInfo for the given file list header ( list ): Header of the fits file source_name ( str ): Source Name machine_id ( int ) : Machine ID barycentric ( int ): If 1 the data is barycentered pulsarcentric ( int ): Is the data in pulsar ' s frame of reference ? src_raj ( float ): RA of the source ( HHMMSS . SS ) src_deg ( float ): Dec of the source ( DDMMSS . SS ) az_start ( float ): Telescope Azimuth ( degrees ) za_start ( float ): Telescope Zenith Angle ( degrees ) fch1 ( float ): Frequency of first channel ( MHz )) foff ( float ): Channel bandwidth ( MHz ) nchans ( int ): Number of channels nbeams ( int ): Number of beams in the rcvr . ibeam ( int ): Beam number nbits ( int ): Number of bits the data are recorded in . tstart ( float ): Start MJD of the data tsamp ( float ): Sampling interval ( seconds ) nifs ( int ): Number of IFs in the data . [source] read_subint PsrfitsFile . read_subint ( isub , apply_weights = True , apply_scales = True , apply_offsets = True , pol = 0 ) Read a PSRFITS subint from a open pyfits file object. Applys scales, weights, and offsets to the data. Args: isub : index of subint ( first subint is 0 ) apply_weights : If True , apply weights . ( Default : apply weights ) apply_scales : If True , apply scales . ( Default : apply scales ) apply_offsets : If True , apply offsets . ( Default : apply offsets ) Returns: Subint data with scales, weights, and offsets applied in float32 dtype with shape (nsamps,nchan). [source] get_data PsrfitsFile . get_data ( nstart , nsamp , pol = 0 ) Return 2D array of data from PSRFITS files. Args: nstart : Starting sample nsamp : number of samples to read Returns: data : Time - Frequency numpy array [source] SpectraInfo your . formats . psrfits . SpectraInfo ( filenames ) Class to read the header of fits files Args: filenames : list of fits files [source] unpack_2bit your . formats . psrfits . unpack_2bit ( data ) Unpack 2-bit data that has been read in as bytes. Args: data : array of unsigned 2 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be four times the size of the input data. [source] unpack_2bit your . formats . psrfits . unpack_2bit ( data ) Unpack 2-bit data that has been read in as bytes. Args: data : array of unsigned 2 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be four times the size of the input data. [source] unpack_4bit your . formats . psrfits . unpack_4bit ( data ) Unpack 4-bit data that has been read in as bytes. Args: data : array of unsigned 4 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be twice the size of the input data.","title":"Psrfits"},{"location":"formats/psrfits/#psrfitsfile","text":"your . formats . psrfits . PsrfitsFile ( psrfitslist ) Simple functions for reading psrfits files from python. Not all possible features are implemented. Original Source from Scott Ransom's psrfits . Args: psrfitslist (str): list of files Attributes: filename ( str ): Name of the first file filelist ( list ): List of files fileid ( int ): Index of the current file fits ( obj ): fits object of the current file read specinfo ( obj ): Object of class SpectraInfo for the given file list header ( list ): Header of the fits file source_name ( str ): Source Name machine_id ( int ) : Machine ID barycentric ( int ): If 1 the data is barycentered pulsarcentric ( int ): Is the data in pulsar ' s frame of reference ? src_raj ( float ): RA of the source ( HHMMSS . SS ) src_deg ( float ): Dec of the source ( DDMMSS . SS ) az_start ( float ): Telescope Azimuth ( degrees ) za_start ( float ): Telescope Zenith Angle ( degrees ) fch1 ( float ): Frequency of first channel ( MHz )) foff ( float ): Channel bandwidth ( MHz ) nchans ( int ): Number of channels nbeams ( int ): Number of beams in the rcvr . ibeam ( int ): Beam number nbits ( int ): Number of bits the data are recorded in . tstart ( float ): Start MJD of the data tsamp ( float ): Sampling interval ( seconds ) nifs ( int ): Number of IFs in the data . [source]","title":"PsrfitsFile"},{"location":"formats/psrfits/#read_subint","text":"PsrfitsFile . read_subint ( isub , apply_weights = True , apply_scales = True , apply_offsets = True , pol = 0 ) Read a PSRFITS subint from a open pyfits file object. Applys scales, weights, and offsets to the data. Args: isub : index of subint ( first subint is 0 ) apply_weights : If True , apply weights . ( Default : apply weights ) apply_scales : If True , apply scales . ( Default : apply scales ) apply_offsets : If True , apply offsets . ( Default : apply offsets ) Returns: Subint data with scales, weights, and offsets applied in float32 dtype with shape (nsamps,nchan). [source]","title":"read_subint"},{"location":"formats/psrfits/#get_data","text":"PsrfitsFile . get_data ( nstart , nsamp , pol = 0 ) Return 2D array of data from PSRFITS files. Args: nstart : Starting sample nsamp : number of samples to read Returns: data : Time - Frequency numpy array [source]","title":"get_data"},{"location":"formats/psrfits/#spectrainfo","text":"your . formats . psrfits . SpectraInfo ( filenames ) Class to read the header of fits files Args: filenames : list of fits files [source]","title":"SpectraInfo"},{"location":"formats/psrfits/#unpack_2bit","text":"your . formats . psrfits . unpack_2bit ( data ) Unpack 2-bit data that has been read in as bytes. Args: data : array of unsigned 2 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be four times the size of the input data. [source]","title":"unpack_2bit"},{"location":"formats/psrfits/#unpack_2bit_1","text":"your . formats . psrfits . unpack_2bit ( data ) Unpack 2-bit data that has been read in as bytes. Args: data : array of unsigned 2 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be four times the size of the input data. [source]","title":"unpack_2bit"},{"location":"formats/psrfits/#unpack_4bit","text":"your . formats . psrfits . unpack_4bit ( data ) Unpack 4-bit data that has been read in as bytes. Args: data : array of unsigned 4 - bit ints packed into an array of bytes . Returns: unpacked array. The size of this array will be twice the size of the input data.","title":"unpack_4bit"},{"location":"formats/pysigproc/","text":"[source] SigprocFile your . formats . pysigproc . SigprocFile ( fp = None , copy_hdr = None ) Simple functions for reading sigproc filterbank files from python. Not all possible features are implemented. Original Source from Paul Demorest's pysigproc.py . Args: fp ( str ): file name copy_hdr ( bool ): copy header from another SigprocFile class object Attributes: rawdatafile ( str ): Raw data file source_name ( str ): Source Name machine_id ( int ) : Machine ID barycentric ( int ): If 1 the data is barycentered pulsarcentric ( int ): Is the data in pulsar ' s frame of reference ? src_raj ( float ): RA of the source ( HHMMSS . SS ) src_deg ( float ): Dec of the source ( DDMMSS . SS ) az_start ( float ): Telescope Azimuth ( degrees ) za_start ( float ): Telescope Zenith Angle ( degrees ) fch1 ( float ): Frequency of first channel ( MHz )) foff ( float ): Channel bandwidth ( MHz ) nchans ( int ): Number of channels nbeams ( int ): Number of beams in the rcvr . ibeam ( int ): Beam number nbits ( int ): Number of bits the data are recorded in . tstart ( float ): Start MJD of the data tsamp ( float ): Sampling interval ( seconds ) nifs ( int ): Number of IFs in the data . [source] get_data SigprocFile . get_data ( nstart , nsamp , offset = 0 , pol = 0 ) Return nsamp time slices starting at nstart. Args: nstart ( int ): Starting spectra number to start reading from . nsamp ( int ): Number of spectra to read . offset ( int ): Can be used to offset reading from . pol ( int ): Which polarisation to read . Returns: numpy.ndarray: data. [source] unpack SigprocFile . unpack ( nstart , nsamp ) Unpack nsamp time slices starting at nstart to 32-bit floats. Args: nstart ( int ): Starting spectra number to start reading from . nsamp ( int ): Number of spectra to read . Returns: numpy.ndarray: Data [source] write_header SigprocFile . write_header ( filename ) Write the filterbank header Args: filename (str): name of the filterbank file [source] append_spectra SigprocFile . append_spectra ( spectra , filename ) Append spectra to the end of the file Args: spectra ( numpy . ndarray ) : numpy array of the data to be dumped into the filterbank file filename ( str ): name of the filterbank file","title":"Filterbank"},{"location":"formats/pysigproc/#sigprocfile","text":"your . formats . pysigproc . SigprocFile ( fp = None , copy_hdr = None ) Simple functions for reading sigproc filterbank files from python. Not all possible features are implemented. Original Source from Paul Demorest's pysigproc.py . Args: fp ( str ): file name copy_hdr ( bool ): copy header from another SigprocFile class object Attributes: rawdatafile ( str ): Raw data file source_name ( str ): Source Name machine_id ( int ) : Machine ID barycentric ( int ): If 1 the data is barycentered pulsarcentric ( int ): Is the data in pulsar ' s frame of reference ? src_raj ( float ): RA of the source ( HHMMSS . SS ) src_deg ( float ): Dec of the source ( DDMMSS . SS ) az_start ( float ): Telescope Azimuth ( degrees ) za_start ( float ): Telescope Zenith Angle ( degrees ) fch1 ( float ): Frequency of first channel ( MHz )) foff ( float ): Channel bandwidth ( MHz ) nchans ( int ): Number of channels nbeams ( int ): Number of beams in the rcvr . ibeam ( int ): Beam number nbits ( int ): Number of bits the data are recorded in . tstart ( float ): Start MJD of the data tsamp ( float ): Sampling interval ( seconds ) nifs ( int ): Number of IFs in the data . [source]","title":"SigprocFile"},{"location":"formats/pysigproc/#get_data","text":"SigprocFile . get_data ( nstart , nsamp , offset = 0 , pol = 0 ) Return nsamp time slices starting at nstart. Args: nstart ( int ): Starting spectra number to start reading from . nsamp ( int ): Number of spectra to read . offset ( int ): Can be used to offset reading from . pol ( int ): Which polarisation to read . Returns: numpy.ndarray: data. [source]","title":"get_data"},{"location":"formats/pysigproc/#unpack","text":"SigprocFile . unpack ( nstart , nsamp ) Unpack nsamp time slices starting at nstart to 32-bit floats. Args: nstart ( int ): Starting spectra number to start reading from . nsamp ( int ): Number of spectra to read . Returns: numpy.ndarray: Data [source]","title":"unpack"},{"location":"formats/pysigproc/#write_header","text":"SigprocFile . write_header ( filename ) Write the filterbank header Args: filename (str): name of the filterbank file [source]","title":"write_header"},{"location":"formats/pysigproc/#append_spectra","text":"SigprocFile . append_spectra ( spectra , filename ) Append spectra to the end of the file Args: spectra ( numpy . ndarray ) : numpy array of the data to be dumped into the filterbank file filename ( str ): name of the filterbank file","title":"append_spectra"},{"location":"ipynb/Candidate/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } pre { line-height: 125%; margin: 0; } td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); Candidate class to analyse single pulses \u00b6 In [1]: from your.candidate import Candidate from your.utils.plotter import plot_h5 import numpy as np from scipy.signal import detrend import os os . environ [ \"HDF5_USE_FILE_LOCKING\" ] = \"FALSE\" % matplotlib inline In [2]: import pylab as plt import logging logger = logging . getLogger () logger = logging . basicConfig ( level = logging . INFO , format = \" %(asctime)s - %(name)s - %(threadName)s - %(levelname)s -\" \" %(message)s \" , ) Loading the data \u00b6 First, we make the candiate object with the relevant paramters of the candidate. In [3]: import tarfile import tempfile from urllib.request import urlretrieve In [4]: temp_dir = tempfile . TemporaryDirectory () download_path = str ( temp_dir . name ) + \"/askap_frb_180417.tgz\" url = \"http://astro.phys.wvu.edu/files/askap_frb_180417.tgz\" urlretrieve ( url , download_path , ) frb_tar = tarfile . open ( download_path ) frb_tar . extractall ( path = os . path . dirname ( download_path )) fil_file = temp_dir . name + \"/28.fil\" Candidate object \u00b6 To create a candidate object you would need atleast: Source file (PSRFITS or filterbank) DM (pc/cc) Candiate arrival time (s) Pulse width (samples) Here let's create the candidate object with some more details In [5]: cand = Candidate ( fp = fil_file , dm = 475.28400 , tcand = 2.0288800 , width = 2 , label =- 1 , snr = 16.8128 , min_samp = 256 , device = 0 , ) Reading data \u00b6 Get data, this will take data from the filterbank file, and can be accessed from cand.data : In [6]: cand . get_chunk () print ( cand . data , cand . data . shape , cand . dtype ) [[124 114 143 ... 145 118 159] [108 158 129 ... 122 142 158] [122 123 131 ... 119 142 129] ... [114 113 142 ... 120 141 160] [120 113 103 ... 146 107 136] [139 133 113 ... 146 141 160]] (991, 336) <class 'numpy.uint8'> Dedispersion \u00b6 Here is our dispersed pulse (it is weak to see) In [7]: plt . imshow ( cand . data . T , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () Now let's make the DM Time plot using the dmtime method. Note: This may take a while. In [8]: cand . dmtime () Out[8]: Using <class 'str'>: /tmp/tmpuo86atwo/28.fil The DM time data can be accessed using cand.dmt . Let's have a look: In [9]: plt . imshow ( cand . dmt , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"DM index\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can see the bow-tie shape and the peak in the middle in the above plot. Now let's dedisperse the data using the dedisperse method. In [10]: cand . dedisperse () Out[10]: Using <class 'str'>: /tmp/tmpuo86atwo/28.fil The dedispersed frequency-time can be obtained using cand.dedispersed In [11]: plt . imshow ( cand . dedispersed . T , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () The FRB is weakly visible in the middle of the plot. To see the FRB pulse profile let's plot the time series In [12]: plt . plot ( cand . dedispersed . T . sum ( 0 )) plt . xlabel ( \"Time Samples\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show () Detrending \u00b6 Detrending can be used to remove bandpass variations. In [13]: plt . imshow ( detrend ( cand . dedispersed . T ), aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can have a look at the bandpass with and without detrending . In [14]: # Without detrend plt . plot ( cand . dedispersed . T . sum ( 1 )) plt . xlabel ( \"Channels\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show () In [15]: # With detrend plt . plot ( detrend ( cand . dedispersed . T ) . sum ( 1 )) plt . xlabel ( \"Channels\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show () DM Optimization \u00b6 Single pulse search pipelines lines often report approimate DMs. We can find the DM which maximizes our Signal to Noise Ratio (SNR) using the optimize_dm method. We assume that the DM vs -SNR curve is a convex function and use golden method to find the minima. The function returns optimal DM and SNR. Note This is an experimental feature. In [16]: cand . optimize_dm () print ( f \"Heimdall reported dm: { cand . dm } , Optimised DM: { cand . dm_opt } \" ) print ( f \"Heimdall reported snr: { cand . snr } , SNR at Opt. DM: { cand . snr_opt } \" ) Heimdall reported dm: 475.284, Optimised DM: 474.7613272736851 Heimdall reported snr: 16.8128, SNR at Opt. DM: 14.077508926391602 Saving the candidate \u00b6 For now, let's enter -1 as values for dm_opt and snr_opt In [17]: cand . dm_opt = - 1 cand . snr_opt = - 1 Each candiate gets a unique ID which can be accessed using cand.id In [18]: cand . id Out[18]: 'cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280' Now let's save our candidate in an h5 file In [19]: fout = cand . save_h5 () print ( fout ) 2020-08-26 20:07:05,967 - your.candidate - MainThread - INFO - Saving h5 file cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5. cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5 We will use plot_h5 function to plot the candidate h5 we just generated. In [20]: plot_h5 ( fout , detrend_ft = False , save = True ) 2020-08-26 20:07:08,637 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes> We can also create publication quality plots right here using publication=True argument. In [21]: plot_h5 ( fout , detrend_ft = True , save = True , publication = True ) 2020-08-26 20:07:13,995 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes> Reshaping and Resizing \u00b6 Reshaping Freq-time and DM-time arrays \u00b6 In [22]: dedispersed_bkup = cand . dedispersed dmt_bkup = cand . dmt In [23]: print ( f \"Shape of dedispersed (frequency-time) data: { dedispersed_bkup . T . shape } \" ) print ( f \"Shape of DM-time data: { dmt_bkup . shape } \" ) Shape of dedispersed (frequency-time) data: (336, 991) Shape of DM-time data: (256, 991) In [24]: time_size = 256 freq_size = 256 Using resize in skimage.transform for reshaping \u00b6 In [25]: # resize dedispersed Frequency-time array along frequency axis print ( f \"Resizing time axis\" ) cand . resize ( key = \"ft\" , size = time_size , axis = 0 , anti_aliasing = True ) print ( f \"Shape of dedispersed (frequency-time) data after resizing: { cand . dedispersed . T . shape } \" ) # resize dedispersed Frequency-time array along time axis print ( f \"Resizing frequency axis\" ) cand . resize ( key = \"ft\" , size = freq_size , axis = 1 , anti_aliasing = True ) print ( f \"Shape of dedispersed (frequency-time) data after resizing: { cand . dedispersed . T . shape } \" ) Resizing time axis Shape of dedispersed (frequency-time) data after resizing: (336, 256) Resizing frequency axis Shape of dedispersed (frequency-time) data after resizing: (256, 256) In [26]: # resize DM-time array along time axis cand . resize ( key = \"dmt\" , size = time_size , axis = 1 , anti_aliasing = True ) print ( f \"Shape of DM-time data after resizing: { cand . dmt . shape } \" ) Shape of DM-time data after resizing: (256, 256) Using decimate for reshaping \u00b6 In [27]: from candidate import crop In [28]: cand . dedispersed = dedispersed_bkup cand . dmt = dmt_bkup In [29]: print ( f \"Shape of dedispersed (frequency-time) data: { cand . dedispersed . T . shape } \" ) Shape of dedispersed (frequency-time) data: (336, 991) In [30]: # Let's use pulse width to decide the decimate factor by which to collape the time axis pulse_width = cand . width if pulse_width == 1 : time_decimate_factor = 1 else : time_decimate_factor = pulse_width // 2 freq_decimation_factor = cand . dedispersed . shape [ 1 ] // freq_size print ( f \"Time decimation factor is { time_decimate_factor } \" ) print ( f \"Frequency decimation factor is { freq_decimation_factor } \" ) Time decimation factor is 1 Frequency decimation factor is 1 Let's set the factors to something more interesting than 1 In [31]: time_decimate_factor = 2 frequency_decimate_factor = 2 In [32]: # Decimating time axis, and cropping to the final size cand . decimate ( key = \"ft\" , axis = 0 , pad = True , decimate_factor = time_decimate_factor , mode = \"median\" ) print ( f \"Shape of dedispersed (frequency-time) data after time decimation: { cand . dedispersed . T . shape } \" ) # Cropping the time axis to a required size crop_start_sample_ft = cand . dedispersed . shape [ 0 ] // 2 - time_size // 2 cand . dedispersed = crop ( cand . dedispersed , crop_start_sample_ft , time_size , 0 ) print ( f \"Shape of dedispersed (frequency-time) data after time decimation + crop: { cand . dedispersed . T . shape } \" ) # Decimating frequency axis cand . decimate ( key = \"ft\" , axis = 1 , pad = True , decimate_factor = frequency_decimate_factor , mode = \"median\" ) print ( f \"Shape of dedispersed (frequency-time) data after decimation: { cand . dedispersed . T . shape } \" ) 2020-08-26 20:07:19,230 - your.utils.misc - MainThread - INFO - padding along axis 0 Shape of dedispersed (frequency-time) data after time decimation: (336, 496) Shape of dedispersed (frequency-time) data after time decimation + crop: (336, 256) Shape of dedispersed (frequency-time) data after decimation: (168, 256) In [33]: # Reshaping the DM-time using decimation # Decimating time axis and croppig to the final required size print ( f \"Original shape of DM-time data after time decimation: { cand . dmt . shape } \" ) cand . decimate ( key = \"dmt\" , axis = 1 , pad = True , decimate_factor = time_decimate_factor , mode = \"median\" ) print ( f \"Shape of DM-time data after time decimation: { cand . dmt . shape } \" ) crop_start_sample_dmt = cand . dmt . shape [ 1 ] // 2 - time_size // 2 cand . dmt = crop ( cand . dmt , crop_start_sample_dmt , time_size , 1 ) print ( f \"Shape of DM-time data after time decimation + crop: { cand . dmt . shape } \" ) 2020-08-26 20:07:19,283 - your.utils.misc - MainThread - INFO - padding along axis 1 Original shape of DM-time data after time decimation: (256, 991) Shape of DM-time data after time decimation: (256, 496) Shape of DM-time data after time decimation + crop: (256, 256) Let's take a final look at the data. Decimation reduces the standard deviation of the data so the candidates should look more significant now. In [34]: plt . imshow ( cand . dmt , aspect = \"auto\" ) plt . ylabel ( \"DM index\" ) plt . xlabel ( \"Time Samples\" ) plt . show () In [35]: plt . imshow ( cand . dedispersed . T , aspect = \"auto\" ) plt . ylabel ( \"Frequency Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can save this decimated data to h5 files using the same command as before In [36]: fout = cand . save_h5 () print ( fout ) 2020-08-26 20:07:20,529 - your.candidate - MainThread - INFO - Saving h5 file cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5. cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5 In [37]: # Let's also detrend to remove the bandpass variations plot_h5 ( fout , detrend_ft = True , save = True ) 2020-08-26 20:07:20,841 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes>","title":"Candidates"},{"location":"ipynb/Candidate/#candidate-class-to-analyse-single-pulses","text":"In [1]: from your.candidate import Candidate from your.utils.plotter import plot_h5 import numpy as np from scipy.signal import detrend import os os . environ [ \"HDF5_USE_FILE_LOCKING\" ] = \"FALSE\" % matplotlib inline In [2]: import pylab as plt import logging logger = logging . getLogger () logger = logging . basicConfig ( level = logging . INFO , format = \" %(asctime)s - %(name)s - %(threadName)s - %(levelname)s -\" \" %(message)s \" , )","title":"Candidate class to analyse single pulses"},{"location":"ipynb/Candidate/#loading-the-data","text":"First, we make the candiate object with the relevant paramters of the candidate. In [3]: import tarfile import tempfile from urllib.request import urlretrieve In [4]: temp_dir = tempfile . TemporaryDirectory () download_path = str ( temp_dir . name ) + \"/askap_frb_180417.tgz\" url = \"http://astro.phys.wvu.edu/files/askap_frb_180417.tgz\" urlretrieve ( url , download_path , ) frb_tar = tarfile . open ( download_path ) frb_tar . extractall ( path = os . path . dirname ( download_path )) fil_file = temp_dir . name + \"/28.fil\"","title":"Loading the data"},{"location":"ipynb/Candidate/#candidate-object","text":"To create a candidate object you would need atleast: Source file (PSRFITS or filterbank) DM (pc/cc) Candiate arrival time (s) Pulse width (samples) Here let's create the candidate object with some more details In [5]: cand = Candidate ( fp = fil_file , dm = 475.28400 , tcand = 2.0288800 , width = 2 , label =- 1 , snr = 16.8128 , min_samp = 256 , device = 0 , )","title":"Candidate object"},{"location":"ipynb/Candidate/#reading-data","text":"Get data, this will take data from the filterbank file, and can be accessed from cand.data : In [6]: cand . get_chunk () print ( cand . data , cand . data . shape , cand . dtype ) [[124 114 143 ... 145 118 159] [108 158 129 ... 122 142 158] [122 123 131 ... 119 142 129] ... [114 113 142 ... 120 141 160] [120 113 103 ... 146 107 136] [139 133 113 ... 146 141 160]] (991, 336) <class 'numpy.uint8'>","title":"Reading data"},{"location":"ipynb/Candidate/#dedispersion","text":"Here is our dispersed pulse (it is weak to see) In [7]: plt . imshow ( cand . data . T , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () Now let's make the DM Time plot using the dmtime method. Note: This may take a while. In [8]: cand . dmtime () Out[8]: Using <class 'str'>: /tmp/tmpuo86atwo/28.fil The DM time data can be accessed using cand.dmt . Let's have a look: In [9]: plt . imshow ( cand . dmt , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"DM index\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can see the bow-tie shape and the peak in the middle in the above plot. Now let's dedisperse the data using the dedisperse method. In [10]: cand . dedisperse () Out[10]: Using <class 'str'>: /tmp/tmpuo86atwo/28.fil The dedispersed frequency-time can be obtained using cand.dedispersed In [11]: plt . imshow ( cand . dedispersed . T , aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () The FRB is weakly visible in the middle of the plot. To see the FRB pulse profile let's plot the time series In [12]: plt . plot ( cand . dedispersed . T . sum ( 0 )) plt . xlabel ( \"Time Samples\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show ()","title":"Dedispersion"},{"location":"ipynb/Candidate/#detrending","text":"Detrending can be used to remove bandpass variations. In [13]: plt . imshow ( detrend ( cand . dedispersed . T ), aspect = \"auto\" , interpolation = None ) plt . ylabel ( \"Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can have a look at the bandpass with and without detrending . In [14]: # Without detrend plt . plot ( cand . dedispersed . T . sum ( 1 )) plt . xlabel ( \"Channels\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show () In [15]: # With detrend plt . plot ( detrend ( cand . dedispersed . T ) . sum ( 1 )) plt . xlabel ( \"Channels\" ) plt . ylabel ( \"Flux (Arb. Units)\" ) plt . show ()","title":"Detrending"},{"location":"ipynb/Candidate/#dm-optimization","text":"Single pulse search pipelines lines often report approimate DMs. We can find the DM which maximizes our Signal to Noise Ratio (SNR) using the optimize_dm method. We assume that the DM vs -SNR curve is a convex function and use golden method to find the minima. The function returns optimal DM and SNR. Note This is an experimental feature. In [16]: cand . optimize_dm () print ( f \"Heimdall reported dm: { cand . dm } , Optimised DM: { cand . dm_opt } \" ) print ( f \"Heimdall reported snr: { cand . snr } , SNR at Opt. DM: { cand . snr_opt } \" ) Heimdall reported dm: 475.284, Optimised DM: 474.7613272736851 Heimdall reported snr: 16.8128, SNR at Opt. DM: 14.077508926391602","title":"DM Optimization"},{"location":"ipynb/Candidate/#saving-the-candidate","text":"For now, let's enter -1 as values for dm_opt and snr_opt In [17]: cand . dm_opt = - 1 cand . snr_opt = - 1 Each candiate gets a unique ID which can be accessed using cand.id In [18]: cand . id Out[18]: 'cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280' Now let's save our candidate in an h5 file In [19]: fout = cand . save_h5 () print ( fout ) 2020-08-26 20:07:05,967 - your.candidate - MainThread - INFO - Saving h5 file cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5. cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5 We will use plot_h5 function to plot the candidate h5 we just generated. In [20]: plot_h5 ( fout , detrend_ft = False , save = True ) 2020-08-26 20:07:08,637 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes> We can also create publication quality plots right here using publication=True argument. In [21]: plot_h5 ( fout , detrend_ft = True , save = True , publication = True ) 2020-08-26 20:07:13,995 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes>","title":"Saving the candidate"},{"location":"ipynb/Candidate/#reshaping-and-resizing","text":"","title":"Reshaping and Resizing"},{"location":"ipynb/Candidate/#reshaping-freq-time-and-dm-time-arrays","text":"In [22]: dedispersed_bkup = cand . dedispersed dmt_bkup = cand . dmt In [23]: print ( f \"Shape of dedispersed (frequency-time) data: { dedispersed_bkup . T . shape } \" ) print ( f \"Shape of DM-time data: { dmt_bkup . shape } \" ) Shape of dedispersed (frequency-time) data: (336, 991) Shape of DM-time data: (256, 991) In [24]: time_size = 256 freq_size = 256","title":"Reshaping Freq-time and DM-time arrays"},{"location":"ipynb/Candidate/#using-resize-in-skimagetransform-for-reshaping","text":"In [25]: # resize dedispersed Frequency-time array along frequency axis print ( f \"Resizing time axis\" ) cand . resize ( key = \"ft\" , size = time_size , axis = 0 , anti_aliasing = True ) print ( f \"Shape of dedispersed (frequency-time) data after resizing: { cand . dedispersed . T . shape } \" ) # resize dedispersed Frequency-time array along time axis print ( f \"Resizing frequency axis\" ) cand . resize ( key = \"ft\" , size = freq_size , axis = 1 , anti_aliasing = True ) print ( f \"Shape of dedispersed (frequency-time) data after resizing: { cand . dedispersed . T . shape } \" ) Resizing time axis Shape of dedispersed (frequency-time) data after resizing: (336, 256) Resizing frequency axis Shape of dedispersed (frequency-time) data after resizing: (256, 256) In [26]: # resize DM-time array along time axis cand . resize ( key = \"dmt\" , size = time_size , axis = 1 , anti_aliasing = True ) print ( f \"Shape of DM-time data after resizing: { cand . dmt . shape } \" ) Shape of DM-time data after resizing: (256, 256)","title":"Using resize in skimage.transform for reshaping"},{"location":"ipynb/Candidate/#using-decimate-for-reshaping","text":"In [27]: from candidate import crop In [28]: cand . dedispersed = dedispersed_bkup cand . dmt = dmt_bkup In [29]: print ( f \"Shape of dedispersed (frequency-time) data: { cand . dedispersed . T . shape } \" ) Shape of dedispersed (frequency-time) data: (336, 991) In [30]: # Let's use pulse width to decide the decimate factor by which to collape the time axis pulse_width = cand . width if pulse_width == 1 : time_decimate_factor = 1 else : time_decimate_factor = pulse_width // 2 freq_decimation_factor = cand . dedispersed . shape [ 1 ] // freq_size print ( f \"Time decimation factor is { time_decimate_factor } \" ) print ( f \"Frequency decimation factor is { freq_decimation_factor } \" ) Time decimation factor is 1 Frequency decimation factor is 1 Let's set the factors to something more interesting than 1 In [31]: time_decimate_factor = 2 frequency_decimate_factor = 2 In [32]: # Decimating time axis, and cropping to the final size cand . decimate ( key = \"ft\" , axis = 0 , pad = True , decimate_factor = time_decimate_factor , mode = \"median\" ) print ( f \"Shape of dedispersed (frequency-time) data after time decimation: { cand . dedispersed . T . shape } \" ) # Cropping the time axis to a required size crop_start_sample_ft = cand . dedispersed . shape [ 0 ] // 2 - time_size // 2 cand . dedispersed = crop ( cand . dedispersed , crop_start_sample_ft , time_size , 0 ) print ( f \"Shape of dedispersed (frequency-time) data after time decimation + crop: { cand . dedispersed . T . shape } \" ) # Decimating frequency axis cand . decimate ( key = \"ft\" , axis = 1 , pad = True , decimate_factor = frequency_decimate_factor , mode = \"median\" ) print ( f \"Shape of dedispersed (frequency-time) data after decimation: { cand . dedispersed . T . shape } \" ) 2020-08-26 20:07:19,230 - your.utils.misc - MainThread - INFO - padding along axis 0 Shape of dedispersed (frequency-time) data after time decimation: (336, 496) Shape of dedispersed (frequency-time) data after time decimation + crop: (336, 256) Shape of dedispersed (frequency-time) data after decimation: (168, 256) In [33]: # Reshaping the DM-time using decimation # Decimating time axis and croppig to the final required size print ( f \"Original shape of DM-time data after time decimation: { cand . dmt . shape } \" ) cand . decimate ( key = \"dmt\" , axis = 1 , pad = True , decimate_factor = time_decimate_factor , mode = \"median\" ) print ( f \"Shape of DM-time data after time decimation: { cand . dmt . shape } \" ) crop_start_sample_dmt = cand . dmt . shape [ 1 ] // 2 - time_size // 2 cand . dmt = crop ( cand . dmt , crop_start_sample_dmt , time_size , 1 ) print ( f \"Shape of DM-time data after time decimation + crop: { cand . dmt . shape } \" ) 2020-08-26 20:07:19,283 - your.utils.misc - MainThread - INFO - padding along axis 1 Original shape of DM-time data after time decimation: (256, 991) Shape of DM-time data after time decimation: (256, 496) Shape of DM-time data after time decimation + crop: (256, 256) Let's take a final look at the data. Decimation reduces the standard deviation of the data so the candidates should look more significant now. In [34]: plt . imshow ( cand . dmt , aspect = \"auto\" ) plt . ylabel ( \"DM index\" ) plt . xlabel ( \"Time Samples\" ) plt . show () In [35]: plt . imshow ( cand . dedispersed . T , aspect = \"auto\" ) plt . ylabel ( \"Frequency Channels\" ) plt . xlabel ( \"Time Samples\" ) plt . show () We can save this decimated data to h5 files using the same command as before In [36]: fout = cand . save_h5 () print ( fout ) 2020-08-26 20:07:20,529 - your.candidate - MainThread - INFO - Saving h5 file cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5. cand_tstart_58682.620316710374_tcand_2.0288800_dm_475.28400_snr_16.81280.h5 In [37]: # Let's also detrend to remove the bandpass variations plot_h5 ( fout , detrend_ft = True , save = True ) 2020-08-26 20:07:20,841 - root - MainThread - WARNING - Lengh of time axis is not 256. This data is probably not pre-processed. <Figure size 432x288 with 0 Axes>","title":"Using decimate for reshaping"},{"location":"ipynb/RFI/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } pre { line-height: 125%; margin: 0; } td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); RFI Mitigation \u00b6 Your is equipped with a few powerful mitigation techniques. To get started we import some usefull stuff and define a handly plotter. In [2]: import your import pylab as plt import numpy as np from matplotlib import gridspec var element = $('#2d9215c3-ae4c-4141-a6e2-0726f6c0d65d'); setTimeout(function() { var nbb_cell_id = 2; var nbb_unformatted_code = \"import your\\nimport pylab as plt\\nimport numpy as np\\nfrom matplotlib import gridspec\"; var nbb_formatted_code = \"import your\\nimport pylab as plt\\nimport numpy as np\\nfrom matplotlib import gridspec\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [3]: def plot_data ( data , mask = None ): channels = np . arange ( data . shape [ 1 ]) bandpass = data . mean ( 0 ) if mask is not None : data [:, mask ] = 0 fig = plt . figure ( figsize = ( 8 , 6 )) gs = gridspec . GridSpec ( 1 , 2 , width_ratios = [ 3 , 1 ]) ax0 = plt . subplot ( gs [ 0 ]) ax0 . imshow ( data . T , aspect = \"auto\" , interpolation = None ) ax0 . set_xlabel ( \"Time Samples\" ) ax0 . set_ylabel ( \"Frequency Channels\" ) ax1 = plt . subplot ( gs [ 1 ], sharey = ax0 ) plt . setp ( ax1 . get_yticklabels (), visible = False ) ax1 . plot ( bandpass , channels , \"k\" ) ax1 . set_xlabel ( \"Flux (Arb. Units)\" ) if mask is not None : for channel , val in zip ( channels [ mask ], bandpass [ mask ]): ax0 . axhline ( channel , color = \"r\" , xmin = 0 , xmax = 0.03 , lw = 0.1 ) ax1 . scatter ( val , channel , color = \"r\" , marker = \"o\" ) plt . tight_layout () return plt . show () var element = $('#30e45098-32d9-4fa2-a723-b5b5f4bd5a9e'); setTimeout(function() { var nbb_cell_id = 3; var nbb_unformatted_code = \"def plot_data(data, mask=None):\\n channels = np.arange(data.shape[1])\\n bandpass = data.mean(0)\\n\\n if mask is not None:\\n data[:, mask] = 0\\n\\n fig = plt.figure(figsize=(8, 6))\\n gs = gridspec.GridSpec(1, 2, width_ratios=[3, 1])\\n\\n ax0 = plt.subplot(gs[0])\\n ax0.imshow(data.T, aspect=\\\"auto\\\", interpolation=None)\\n ax0.set_xlabel(\\\"Time Samples\\\")\\n ax0.set_ylabel(\\\"Frequency Channels\\\")\\n\\n ax1 = plt.subplot(gs[1], sharey=ax0)\\n plt.setp(ax1.get_yticklabels(), visible=False)\\n ax1.plot(bandpass, channels, \\\"k\\\")\\n ax1.set_xlabel(\\\"Flux (Arb. Units)\\\")\\n\\n if mask is not None:\\n for channel, val in zip(channels[mask], bandpass[mask]):\\n ax0.axhline(channel, color=\\\"r\\\", xmin=0, xmax=0.03, lw=0.1)\\n ax1.scatter(val, channel, color=\\\"r\\\", marker=\\\"o\\\")\\n\\n plt.tight_layout()\\n return plt.show()\"; var nbb_formatted_code = \"def plot_data(data, mask=None):\\n channels = np.arange(data.shape[1])\\n bandpass = data.mean(0)\\n\\n if mask is not None:\\n data[:, mask] = 0\\n\\n fig = plt.figure(figsize=(8, 6))\\n gs = gridspec.GridSpec(1, 2, width_ratios=[3, 1])\\n\\n ax0 = plt.subplot(gs[0])\\n ax0.imshow(data.T, aspect=\\\"auto\\\", interpolation=None)\\n ax0.set_xlabel(\\\"Time Samples\\\")\\n ax0.set_ylabel(\\\"Frequency Channels\\\")\\n\\n ax1 = plt.subplot(gs[1], sharey=ax0)\\n plt.setp(ax1.get_yticklabels(), visible=False)\\n ax1.plot(bandpass, channels, \\\"k\\\")\\n ax1.set_xlabel(\\\"Flux (Arb. Units)\\\")\\n\\n if mask is not None:\\n for channel, val in zip(channels[mask], bandpass[mask]):\\n ax0.axhline(channel, color=\\\"r\\\", xmin=0, xmax=0.03, lw=0.1)\\n ax1.scatter(val, channel, color=\\\"r\\\", marker=\\\"o\\\")\\n\\n plt.tight_layout()\\n return plt.show()\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); Reading data \u00b6 Let's read a filterbank filterbank file with a PSR B0329+54 single pulse. In [4]: your_object = your . Your ( \"../../../dedisp/B0329+54.fil\" ) your_data = your_object . get_data ( 1800 , 1024 ) var element = $('#84abaf21-2918-4d3f-8055-34be03bcea45'); setTimeout(function() { var nbb_cell_id = 4; var nbb_unformatted_code = \"your_object = your.Your(\\\"../../../dedisp/B0329+54.fil\\\")\\nyour_data = your_object.get_data(1800, 1024)\"; var nbb_formatted_code = \"your_object = your.Your(\\\"../../../dedisp/B0329+54.fil\\\")\\nyour_data = your_object.get_data(1800, 1024)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [5]: plot_data ( your_data ) var element = $('#f9953f2d-fb14-418d-980a-3f6f930da0e9'); setTimeout(function() { var nbb_cell_id = 5; var nbb_unformatted_code = \"plot_data(your_data)\"; var nbb_formatted_code = \"plot_data(your_data)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); Savitzky\u2013Golay filter \u00b6 We first use the Savitzky\u2013Golay filter ( savgol_filter ) as detailed in Agarwal el al. 2020 . It tries to fit a smooth function to the bandpass and flags anything outside sigma=6 values. In [6]: savgol_mask = your . utils . rfi . savgol_filter ( your_data . mean ( 0 ), your_object . foff ) var element = $('#cfc42387-8067-4ed6-ad8d-242e138dd321'); setTimeout(function() { var nbb_cell_id = 6; var nbb_unformatted_code = \"savgol_mask = your.utils.rfi.savgol_filter(your_data.mean(0), your_object.foff)\"; var nbb_formatted_code = \"savgol_mask = your.utils.rfi.savgol_filter(your_data.mean(0), your_object.foff)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [7]: plot_data ( your_data , mask = savgol_mask ) var element = $('#952fc965-d2ae-4253-91a6-a9a2552c6773'); setTimeout(function() { var nbb_cell_id = 7; var nbb_unformatted_code = \"plot_data(your_data, mask=savgol_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=savgol_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); We can also change the width of the window and sigma to do more aggressive filtering by changing frequency_window to 30 MHz and sigma to 3. In [8]: your_data = your_object . get_data ( 1500 , 2000 ) savgol_mask = your . utils . rfi . savgol_filter ( your_data . mean ( 0 ), your_object . foff , frequency_window = 30 , sigma = 3 ) plot_data ( your_data , mask = savgol_mask ) var element = $('#f3cee274-dfcc-46e1-b855-7c46e4ae1092'); setTimeout(function() { var nbb_cell_id = 8; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\nsavgol_mask = your.utils.rfi.savgol_filter(\\n your_data.mean(0), your_object.foff, frequency_window=30, sigma=3\\n)\\nplot_data(your_data, mask=savgol_mask)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\nsavgol_mask = your.utils.rfi.savgol_filter(\\n your_data.mean(0), your_object.foff, frequency_window=30, sigma=3\\n)\\nplot_data(your_data, mask=savgol_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); Spectral Kurtosis filter \u00b6 We also have Spectral Kurtosis filter ( sk_filter ) as detailed in Nita et al. (2016) . Our implementation differs sligtly from Nita et al. (2016) as we flag anything outside 5 sigma of the Spectral Kurtosis. In [9]: your_data = your_object . get_data ( 1500 , 2000 ) spectral_kurtosis_mask = your . utils . rfi . sk_filter ( your_data , your_object . your_header . foff , your_object . your_header . nchans , your_object . your_header . tsamp , sigma = 5 , ) var element = $('#d84a1424-d602-4526-a04c-f466558c51be'); setTimeout(function() { var nbb_cell_id = 9; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\nspectral_kurtosis_mask = your.utils.rfi.sk_filter(\\n your_data,\\n your_object.your_header.foff,\\n your_object.your_header.nchans,\\n your_object.your_header.tsamp,\\n sigma=5,\\n)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\nspectral_kurtosis_mask = your.utils.rfi.sk_filter(\\n your_data,\\n your_object.your_header.foff,\\n your_object.your_header.nchans,\\n your_object.your_header.tsamp,\\n sigma=5,\\n)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [10]: plot_data ( your_data , mask = spectral_kurtosis_mask ) var element = $('#c7b6e9f6-a971-4b6c-87b2-a67dc940a28d'); setTimeout(function() { var nbb_cell_id = 10; var nbb_unformatted_code = \"plot_data(your_data, mask=spectral_kurtosis_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=spectral_kurtosis_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); Composite filter \u00b6 We can use both Spectral Kurtosis and the Savitzky\u2013Golay filter together with the sk_sg_filter function. In [11]: your_data = your_object . get_data ( 1500 , 2000 ) composite_mask = your . utils . rfi . sk_sg_filter ( your_data , your_object , your_object . your_header . nchans ) var element = $('#b37cde6b-2a4a-40ce-ad39-1f7e9d504f87'); setTimeout(function() { var nbb_cell_id = 11; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\ncomposite_mask = your.utils.rfi.sk_sg_filter(\\n your_data, your_object, your_object.your_header.nchans\\n)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\ncomposite_mask = your.utils.rfi.sk_sg_filter(\\n your_data, your_object, your_object.your_header.nchans\\n)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [12]: plot_data ( your_data , mask = composite_mask ) var element = $('#559df5cb-3728-40b1-a9ee-eb2cd3cd8b87'); setTimeout(function() { var nbb_cell_id = 12; var nbb_unformatted_code = \"plot_data(your_data, mask=composite_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=composite_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"RFI Mitigation"},{"location":"ipynb/RFI/#rfi-mitigation","text":"Your is equipped with a few powerful mitigation techniques. To get started we import some usefull stuff and define a handly plotter. In [2]: import your import pylab as plt import numpy as np from matplotlib import gridspec var element = $('#2d9215c3-ae4c-4141-a6e2-0726f6c0d65d'); setTimeout(function() { var nbb_cell_id = 2; var nbb_unformatted_code = \"import your\\nimport pylab as plt\\nimport numpy as np\\nfrom matplotlib import gridspec\"; var nbb_formatted_code = \"import your\\nimport pylab as plt\\nimport numpy as np\\nfrom matplotlib import gridspec\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [3]: def plot_data ( data , mask = None ): channels = np . arange ( data . shape [ 1 ]) bandpass = data . mean ( 0 ) if mask is not None : data [:, mask ] = 0 fig = plt . figure ( figsize = ( 8 , 6 )) gs = gridspec . GridSpec ( 1 , 2 , width_ratios = [ 3 , 1 ]) ax0 = plt . subplot ( gs [ 0 ]) ax0 . imshow ( data . T , aspect = \"auto\" , interpolation = None ) ax0 . set_xlabel ( \"Time Samples\" ) ax0 . set_ylabel ( \"Frequency Channels\" ) ax1 = plt . subplot ( gs [ 1 ], sharey = ax0 ) plt . setp ( ax1 . get_yticklabels (), visible = False ) ax1 . plot ( bandpass , channels , \"k\" ) ax1 . set_xlabel ( \"Flux (Arb. Units)\" ) if mask is not None : for channel , val in zip ( channels [ mask ], bandpass [ mask ]): ax0 . axhline ( channel , color = \"r\" , xmin = 0 , xmax = 0.03 , lw = 0.1 ) ax1 . scatter ( val , channel , color = \"r\" , marker = \"o\" ) plt . tight_layout () return plt . show () var element = $('#30e45098-32d9-4fa2-a723-b5b5f4bd5a9e'); setTimeout(function() { var nbb_cell_id = 3; var nbb_unformatted_code = \"def plot_data(data, mask=None):\\n channels = np.arange(data.shape[1])\\n bandpass = data.mean(0)\\n\\n if mask is not None:\\n data[:, mask] = 0\\n\\n fig = plt.figure(figsize=(8, 6))\\n gs = gridspec.GridSpec(1, 2, width_ratios=[3, 1])\\n\\n ax0 = plt.subplot(gs[0])\\n ax0.imshow(data.T, aspect=\\\"auto\\\", interpolation=None)\\n ax0.set_xlabel(\\\"Time Samples\\\")\\n ax0.set_ylabel(\\\"Frequency Channels\\\")\\n\\n ax1 = plt.subplot(gs[1], sharey=ax0)\\n plt.setp(ax1.get_yticklabels(), visible=False)\\n ax1.plot(bandpass, channels, \\\"k\\\")\\n ax1.set_xlabel(\\\"Flux (Arb. Units)\\\")\\n\\n if mask is not None:\\n for channel, val in zip(channels[mask], bandpass[mask]):\\n ax0.axhline(channel, color=\\\"r\\\", xmin=0, xmax=0.03, lw=0.1)\\n ax1.scatter(val, channel, color=\\\"r\\\", marker=\\\"o\\\")\\n\\n plt.tight_layout()\\n return plt.show()\"; var nbb_formatted_code = \"def plot_data(data, mask=None):\\n channels = np.arange(data.shape[1])\\n bandpass = data.mean(0)\\n\\n if mask is not None:\\n data[:, mask] = 0\\n\\n fig = plt.figure(figsize=(8, 6))\\n gs = gridspec.GridSpec(1, 2, width_ratios=[3, 1])\\n\\n ax0 = plt.subplot(gs[0])\\n ax0.imshow(data.T, aspect=\\\"auto\\\", interpolation=None)\\n ax0.set_xlabel(\\\"Time Samples\\\")\\n ax0.set_ylabel(\\\"Frequency Channels\\\")\\n\\n ax1 = plt.subplot(gs[1], sharey=ax0)\\n plt.setp(ax1.get_yticklabels(), visible=False)\\n ax1.plot(bandpass, channels, \\\"k\\\")\\n ax1.set_xlabel(\\\"Flux (Arb. Units)\\\")\\n\\n if mask is not None:\\n for channel, val in zip(channels[mask], bandpass[mask]):\\n ax0.axhline(channel, color=\\\"r\\\", xmin=0, xmax=0.03, lw=0.1)\\n ax1.scatter(val, channel, color=\\\"r\\\", marker=\\\"o\\\")\\n\\n plt.tight_layout()\\n return plt.show()\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"RFI Mitigation"},{"location":"ipynb/RFI/#reading-data","text":"Let's read a filterbank filterbank file with a PSR B0329+54 single pulse. In [4]: your_object = your . Your ( \"../../../dedisp/B0329+54.fil\" ) your_data = your_object . get_data ( 1800 , 1024 ) var element = $('#84abaf21-2918-4d3f-8055-34be03bcea45'); setTimeout(function() { var nbb_cell_id = 4; var nbb_unformatted_code = \"your_object = your.Your(\\\"../../../dedisp/B0329+54.fil\\\")\\nyour_data = your_object.get_data(1800, 1024)\"; var nbb_formatted_code = \"your_object = your.Your(\\\"../../../dedisp/B0329+54.fil\\\")\\nyour_data = your_object.get_data(1800, 1024)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [5]: plot_data ( your_data ) var element = $('#f9953f2d-fb14-418d-980a-3f6f930da0e9'); setTimeout(function() { var nbb_cell_id = 5; var nbb_unformatted_code = \"plot_data(your_data)\"; var nbb_formatted_code = \"plot_data(your_data)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"Reading data"},{"location":"ipynb/RFI/#savitzkygolay-filter","text":"We first use the Savitzky\u2013Golay filter ( savgol_filter ) as detailed in Agarwal el al. 2020 . It tries to fit a smooth function to the bandpass and flags anything outside sigma=6 values. In [6]: savgol_mask = your . utils . rfi . savgol_filter ( your_data . mean ( 0 ), your_object . foff ) var element = $('#cfc42387-8067-4ed6-ad8d-242e138dd321'); setTimeout(function() { var nbb_cell_id = 6; var nbb_unformatted_code = \"savgol_mask = your.utils.rfi.savgol_filter(your_data.mean(0), your_object.foff)\"; var nbb_formatted_code = \"savgol_mask = your.utils.rfi.savgol_filter(your_data.mean(0), your_object.foff)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [7]: plot_data ( your_data , mask = savgol_mask ) var element = $('#952fc965-d2ae-4253-91a6-a9a2552c6773'); setTimeout(function() { var nbb_cell_id = 7; var nbb_unformatted_code = \"plot_data(your_data, mask=savgol_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=savgol_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); We can also change the width of the window and sigma to do more aggressive filtering by changing frequency_window to 30 MHz and sigma to 3. In [8]: your_data = your_object . get_data ( 1500 , 2000 ) savgol_mask = your . utils . rfi . savgol_filter ( your_data . mean ( 0 ), your_object . foff , frequency_window = 30 , sigma = 3 ) plot_data ( your_data , mask = savgol_mask ) var element = $('#f3cee274-dfcc-46e1-b855-7c46e4ae1092'); setTimeout(function() { var nbb_cell_id = 8; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\nsavgol_mask = your.utils.rfi.savgol_filter(\\n your_data.mean(0), your_object.foff, frequency_window=30, sigma=3\\n)\\nplot_data(your_data, mask=savgol_mask)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\nsavgol_mask = your.utils.rfi.savgol_filter(\\n your_data.mean(0), your_object.foff, frequency_window=30, sigma=3\\n)\\nplot_data(your_data, mask=savgol_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"Savitzky\u2013Golay filter"},{"location":"ipynb/RFI/#spectral-kurtosis-filter","text":"We also have Spectral Kurtosis filter ( sk_filter ) as detailed in Nita et al. (2016) . Our implementation differs sligtly from Nita et al. (2016) as we flag anything outside 5 sigma of the Spectral Kurtosis. In [9]: your_data = your_object . get_data ( 1500 , 2000 ) spectral_kurtosis_mask = your . utils . rfi . sk_filter ( your_data , your_object . your_header . foff , your_object . your_header . nchans , your_object . your_header . tsamp , sigma = 5 , ) var element = $('#d84a1424-d602-4526-a04c-f466558c51be'); setTimeout(function() { var nbb_cell_id = 9; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\nspectral_kurtosis_mask = your.utils.rfi.sk_filter(\\n your_data,\\n your_object.your_header.foff,\\n your_object.your_header.nchans,\\n your_object.your_header.tsamp,\\n sigma=5,\\n)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\nspectral_kurtosis_mask = your.utils.rfi.sk_filter(\\n your_data,\\n your_object.your_header.foff,\\n your_object.your_header.nchans,\\n your_object.your_header.tsamp,\\n sigma=5,\\n)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [10]: plot_data ( your_data , mask = spectral_kurtosis_mask ) var element = $('#c7b6e9f6-a971-4b6c-87b2-a67dc940a28d'); setTimeout(function() { var nbb_cell_id = 10; var nbb_unformatted_code = \"plot_data(your_data, mask=spectral_kurtosis_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=spectral_kurtosis_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"Spectral Kurtosis filter"},{"location":"ipynb/RFI/#composite-filter","text":"We can use both Spectral Kurtosis and the Savitzky\u2013Golay filter together with the sk_sg_filter function. In [11]: your_data = your_object . get_data ( 1500 , 2000 ) composite_mask = your . utils . rfi . sk_sg_filter ( your_data , your_object , your_object . your_header . nchans ) var element = $('#b37cde6b-2a4a-40ce-ad39-1f7e9d504f87'); setTimeout(function() { var nbb_cell_id = 11; var nbb_unformatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\ncomposite_mask = your.utils.rfi.sk_sg_filter(\\n your_data, your_object, your_object.your_header.nchans\\n)\"; var nbb_formatted_code = \"your_data = your_object.get_data(1500, 2000)\\n\\ncomposite_mask = your.utils.rfi.sk_sg_filter(\\n your_data, your_object, your_object.your_header.nchans\\n)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500); In [12]: plot_data ( your_data , mask = composite_mask ) var element = $('#559df5cb-3728-40b1-a9ee-eb2cd3cd8b87'); setTimeout(function() { var nbb_cell_id = 12; var nbb_unformatted_code = \"plot_data(your_data, mask=composite_mask)\"; var nbb_formatted_code = \"plot_data(your_data, mask=composite_mask)\"; var nbb_cells = Jupyter.notebook.get_cells(); for (var i = 0; i < nbb_cells.length; ++i) { if (nbb_cells[i].input_prompt_number == nbb_cell_id) { if (nbb_cells[i].get_text() == nbb_unformatted_code) { nbb_cells[i].set_text(nbb_formatted_code); } break; } } }, 500);","title":"Composite filter"},{"location":"ipynb/Reader/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } pre { line-height: 125%; margin: 0; } td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); Reading files \u00b6 In [1]: import your Loading data \u00b6 Download and extract the a sample filterbank. Here we use the filterbanks containing FRB180417 . In [2]: import logging logging_format = \" %(asctime)s - %(funcName)s - %(name)s - %(levelname)s - %(message)s \" logging . basicConfig ( level = logging . INFO , format = logging_format ) In [3]: import os import tarfile import tempfile import pylab as plt from urllib.request import urlretrieve In [4]: temp_dir = tempfile . TemporaryDirectory () download_path = str ( temp_dir . name ) + \"/askap_frb_180417.tgz\" url = \"http://astro.phys.wvu.edu/files/askap_frb_180417.tgz\" urlretrieve ( url , download_path , ) frb_tar = tarfile . open ( download_path ) frb_tar . extractall ( path = os . path . dirname ( download_path )) fil_file = temp_dir . name + \"/28.fil\" Unified Reader \u00b6 We can now read the file using Your as, In [5]: your_object = your . Your ( fil_file ) Similarly using your we can read list of fits files, single fits file, single fil file. Unified Header \u00b6 Regardless of the file source, each your object has a unified header which can be accessed as follows. your_header displays all the attributes. These can be accessed as as your_object.your_header.attribute , e.g. to get the sampling interval use your_object.your_header.tsamp . In [6]: print ( your_object . your_header ) Unified Header: \"basename\": \"28\" \"bw\": -336.0 \"center_freq\": 1297.0 \"dec_deg\": 13.9644755659 \"dtype\": \"uint8\" \"fch1\": 1465.0 \"filelist\": [ \"/tmp/tmpxytecg8d/28.fil\" ] \"filename\": \"/tmp/tmpxytecg8d/28.fil\" \"foff\": -1.0 \"frequency_decimation_factor\": 1 \"gb\": 75.61933241312582 \"gl\": 97.96004046706304 \"isfil\": true \"isfits\": false \"native_foff\": -1.0 \"native_nchans\": 336 \"native_nspectra\": 5120.0 \"native_tsamp\": 0.00126646875 \"nbits\": 8 \"nchans\": 336 \"npol\": 1 \"nspectra\": 5120.0 \"ra_deg\": 186.656816998 \"source_name\": \"src1\" \"time_decimation_factor\": 1 \"tsamp\": 0.00126646875 \"tstart\": 58682.620316710374 \"tstart_utc\": \"2019-07-18T14:53:15.364\" Reading data \u00b6 You can read the data in the file using the get_data method. The output is a numpy array with shape (nsamp, nchans). In [7]: data = your_object . get_data ( nstart = 0 , nsamp = 4096 ) data . shape Out[7]: (4096, 336) And display the data! In [8]: plt . figure ( figsize = ( 8 , 6 )) plt . imshow ( data . T , aspect = \"auto\" ) plt . xlabel ( \"Time Samples\" ) plt . ylabel ( \"Frequency Channels\" ) plt . colorbar () Out[8]: <matplotlib.colorbar.Colorbar at 0x7f4f9b48c5f8> Bandpass \u00b6 You can create the bandpass of the entire file or a few specific spectra by using your_object.bandpass In [9]: bandpass = your_object . bandpass () 2020-08-26 19:59:19,712 - bandpass -your.your - WARNING - This will read all the data in the RAM. Might be slow as well. And plot and save the bandpass using the save_bandpass function from your.utils.plotter . In [10]: from your.utils.plotter import save_bandpass In [11]: save_bandpass ( your_object , bandpass ) 2020-08-26 19:59:20,194 - _findfont_cached -matplotlib.font_manager - WARNING - findfont: Font family ['serif'] not found. Falling back to DejaVu Sans. 2020-08-26 19:59:20,503 - _findfont_cached -matplotlib.font_manager - WARNING - findfont: Font family ['serif'] not found. Falling back to DejaVu Sans.","title":"Reading Files"},{"location":"ipynb/Reader/#reading-files","text":"In [1]: import your","title":"Reading files"},{"location":"ipynb/Reader/#loading-data","text":"Download and extract the a sample filterbank. Here we use the filterbanks containing FRB180417 . In [2]: import logging logging_format = \" %(asctime)s - %(funcName)s - %(name)s - %(levelname)s - %(message)s \" logging . basicConfig ( level = logging . INFO , format = logging_format ) In [3]: import os import tarfile import tempfile import pylab as plt from urllib.request import urlretrieve In [4]: temp_dir = tempfile . TemporaryDirectory () download_path = str ( temp_dir . name ) + \"/askap_frb_180417.tgz\" url = \"http://astro.phys.wvu.edu/files/askap_frb_180417.tgz\" urlretrieve ( url , download_path , ) frb_tar = tarfile . open ( download_path ) frb_tar . extractall ( path = os . path . dirname ( download_path )) fil_file = temp_dir . name + \"/28.fil\"","title":"Loading data"},{"location":"ipynb/Reader/#unified-reader","text":"We can now read the file using Your as, In [5]: your_object = your . Your ( fil_file ) Similarly using your we can read list of fits files, single fits file, single fil file.","title":"Unified Reader"},{"location":"ipynb/Reader/#unified-header","text":"Regardless of the file source, each your object has a unified header which can be accessed as follows. your_header displays all the attributes. These can be accessed as as your_object.your_header.attribute , e.g. to get the sampling interval use your_object.your_header.tsamp . In [6]: print ( your_object . your_header ) Unified Header: \"basename\": \"28\" \"bw\": -336.0 \"center_freq\": 1297.0 \"dec_deg\": 13.9644755659 \"dtype\": \"uint8\" \"fch1\": 1465.0 \"filelist\": [ \"/tmp/tmpxytecg8d/28.fil\" ] \"filename\": \"/tmp/tmpxytecg8d/28.fil\" \"foff\": -1.0 \"frequency_decimation_factor\": 1 \"gb\": 75.61933241312582 \"gl\": 97.96004046706304 \"isfil\": true \"isfits\": false \"native_foff\": -1.0 \"native_nchans\": 336 \"native_nspectra\": 5120.0 \"native_tsamp\": 0.00126646875 \"nbits\": 8 \"nchans\": 336 \"npol\": 1 \"nspectra\": 5120.0 \"ra_deg\": 186.656816998 \"source_name\": \"src1\" \"time_decimation_factor\": 1 \"tsamp\": 0.00126646875 \"tstart\": 58682.620316710374 \"tstart_utc\": \"2019-07-18T14:53:15.364\"","title":"Unified Header"},{"location":"ipynb/Reader/#reading-data","text":"You can read the data in the file using the get_data method. The output is a numpy array with shape (nsamp, nchans). In [7]: data = your_object . get_data ( nstart = 0 , nsamp = 4096 ) data . shape Out[7]: (4096, 336) And display the data! In [8]: plt . figure ( figsize = ( 8 , 6 )) plt . imshow ( data . T , aspect = \"auto\" ) plt . xlabel ( \"Time Samples\" ) plt . ylabel ( \"Frequency Channels\" ) plt . colorbar () Out[8]: <matplotlib.colorbar.Colorbar at 0x7f4f9b48c5f8>","title":"Reading data"},{"location":"ipynb/Reader/#bandpass","text":"You can create the bandpass of the entire file or a few specific spectra by using your_object.bandpass In [9]: bandpass = your_object . bandpass () 2020-08-26 19:59:19,712 - bandpass -your.your - WARNING - This will read all the data in the RAM. Might be slow as well. And plot and save the bandpass using the save_bandpass function from your.utils.plotter . In [10]: from your.utils.plotter import save_bandpass In [11]: save_bandpass ( your_object , bandpass ) 2020-08-26 19:59:20,194 - _findfont_cached -matplotlib.font_manager - WARNING - findfont: Font family ['serif'] not found. Falling back to DejaVu Sans. 2020-08-26 19:59:20,503 - _findfont_cached -matplotlib.font_manager - WARNING - findfont: Font family ['serif'] not found. Falling back to DejaVu Sans.","title":"Bandpass"},{"location":"ipynb/Writer/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } pre { line-height: 125%; margin: 0; } td.linenos pre { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } span.linenos { color: #000000; background-color: #f0f0f0; padding: 0 5px 0 5px; } td.linenos pre.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } span.linenos.special { color: #000000; background-color: #ffffc0; padding: 0 5px 0 5px; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); Writing files \u00b6 In [1]: from your import Your , Writer import os import numpy as np In [2]: import logging logger = logging . getLogger () logger = logging . basicConfig ( level = logging . INFO , format = \" %(asctime)s - %(name)s - %(threadName)s - %(levelname)s -\" \" %(message)s \" , ) We can write + convert files using the Writer class in Your . Let's read a PSRFITS file and write out a PSRFITS and a filterbank file In [3]: fits_file = \"../tests/data/28.fits\" your_original_file = Your ( fits_file ) While writing files you can also select the required channel and spectra range. Just give the required ranges as input to the Writer class. In [4]: writer_object = Writer ( your_original_file , nstart = 0 , nsamp = 10 , c_min = 10 , c_max = 100 , outdir = \".\" , outname = \"filfromfits_28\" , ) Writing Filterbanks \u00b6 To write a filterbank we use the to_fil method, In [5]: writer_object . to_fil () 2020-08-26 20:02:54,109 - your.writer - MainThread - INFO - Writing data from spectra 0-10 in the frequency channel range 10-100 to filterbank 2020-08-26 20:02:54,112 - your.formats.filwriter - MainThread - INFO - Trying to write data to filterbank file: ./filfromfits_28.fil 2020-08-26 20:02:54,118 - your.formats.filwriter - MainThread - INFO - Output file does not already exist. Creating a new Filterbank file. 2020-08-26 20:02:54,157 - your.formats.filwriter - MainThread - INFO - Writing 10 spectra to file: ./filfromfits_28.fil 2020-08-26 20:02:54,159 - your.formats.filwriter - MainThread - INFO - Successfully written data to Filterbank file: ./filfromfits_28.fil We can just read this Filterbank using Your to make sure that the header parameters and the data are correctly written. In [6]: your_written_filterbank = Your ( \"filfromfits_28.fil\" ) your_written_filterbank . your_header Out[6]: Unified Header: \"basename\": \"filfromfits_28\" \"bw\": -90.0 \"center_freq\": 1410.0 \"dec_deg\": 13.964475555555554 \"dtype\": \"uint8\" \"fch1\": 1455.0 \"filelist\": [ \"filfromfits_28.fil\" ] \"filename\": \"filfromfits_28.fil\" \"foff\": -1.0 \"frequency_decimation_factor\": 1 \"gb\": 75.61933243565039 \"gl\": 97.96004079061271 \"isfil\": true \"isfits\": false \"native_foff\": -1.0 \"native_nchans\": 90 \"native_nspectra\": 10.0 \"native_tsamp\": 0.00126646875 \"nbits\": 8 \"nchans\": 90 \"npol\": 1 \"nspectra\": 10.0 \"ra_deg\": 186.65681708333335 \"source_name\": \"src1\" \"time_decimation_factor\": 1 \"tsamp\": 0.00126646875 \"tstart\": 58682.620316710374 \"tstart_utc\": \"2019-07-18T14:53:15.364\" We can also compare data from both the original file and the newly written file: In [7]: original_data = your_original_file . get_data ( 0 , 10 )[:, 10 : 100 ] filterbank_data = your_written_filterbank . get_data ( 0 , 10 ) In [8]: np . array_equal ( original_data , filterbank_data ) Out[8]: True Looks good! Writing PSRFITS \u00b6 All the inputs defined while declaring Writer are still gonna be used. Let's change the outname for clarity and select some channels In [9]: writer_object = Writer ( your_original_file , nstart = 0 , nsamp = 10 , c_min = 0 , c_max = 100 , outdir = \".\" , outname = \"fitsfromfits_28\" , ) In [10]: writer_object . outname = \"fitsfromfits_28\" writer_object . c_min = 0 writer_object . c_max = 100 To write a PSRFITS we use the to_fits method, In [11]: writer_object . to_fits () 2020-08-26 20:02:54,342 - root - MainThread - INFO - ObsInfo updated with relevant parameters 2020-08-26 20:02:54,357 - your.formats.fitswriter - MainThread - INFO - Setting the following info to be written in ./fitsfromfits_28.fits { \"ant_x\": -1601185.63, \"ant_y\": -5041978.15, \"ant_z\": 3554876.43, \"bmaj_deg\": 0.0, \"bmin_deg\": 0.0, \"bpa_deg\": 0.0, \"bw\": -100.0, \"chan_bw\": -1.0, \"dec_str\": \"13:57:52.1120\", \"dt\": 0.00126646875, \"fcenter\": 1415.0, \"file_date\": \"2020-08-27T00:02:54\", \"longitude\": -107.61833443381258, \"nbits\": 8, \"nchan\": 100, \"nsblk\": 10, \"nsuboffs\": 0.0, \"obs_date\": \"2019-07-18T14:53:15\", \"observer\": \"Human\", \"proj_id\": \"Awesome_Project\", \"ra_str\": \"12:26:37.6361\", \"scan_len\": 0.0126646875, \"src_name\": \"src1\", \"stt_imjd\": 58682, \"stt_lst\": 12438.193191755068, \"stt_offs\": 0.3637763159349561, \"stt_smjd\": 53595, \"telescope\": \"VLA\" } 2020-08-26 20:02:54,378 - root - MainThread - INFO - Building the PSRFITS table 2020-08-26 20:02:54,461 - root - MainThread - INFO - Writing PSRFITS table to file: ./fitsfromfits_28.fits 2020-08-26 20:02:54,530 - root - MainThread - INFO - Header information written in ./fitsfromfits_28.fits 2020-08-26 20:02:54,532 - your.writer - MainThread - INFO - Filling PSRFITS file with data 2020-08-26 20:02:54,605 - your.writer - MainThread - INFO - Number of subints to write 1 2020-08-26 20:02:54,623 - your.writer - MainThread - INFO - Writing data to ./fitsfromfits_28.fits from subint = 0 to 1. 2020-08-26 20:02:55,469 - your.writer - MainThread - INFO - All spectra written to ./fitsfromfits_28.fits Similar to reading the PSRFITS file, we can also read a filterbank file and convert to both formats by first defining a writer_object and using the to_fits and to_fil methods.","title":"Writing Files"},{"location":"ipynb/Writer/#writing-files","text":"In [1]: from your import Your , Writer import os import numpy as np In [2]: import logging logger = logging . getLogger () logger = logging . basicConfig ( level = logging . INFO , format = \" %(asctime)s - %(name)s - %(threadName)s - %(levelname)s -\" \" %(message)s \" , ) We can write + convert files using the Writer class in Your . Let's read a PSRFITS file and write out a PSRFITS and a filterbank file In [3]: fits_file = \"../tests/data/28.fits\" your_original_file = Your ( fits_file ) While writing files you can also select the required channel and spectra range. Just give the required ranges as input to the Writer class. In [4]: writer_object = Writer ( your_original_file , nstart = 0 , nsamp = 10 , c_min = 10 , c_max = 100 , outdir = \".\" , outname = \"filfromfits_28\" , )","title":"Writing files"},{"location":"ipynb/Writer/#writing-filterbanks","text":"To write a filterbank we use the to_fil method, In [5]: writer_object . to_fil () 2020-08-26 20:02:54,109 - your.writer - MainThread - INFO - Writing data from spectra 0-10 in the frequency channel range 10-100 to filterbank 2020-08-26 20:02:54,112 - your.formats.filwriter - MainThread - INFO - Trying to write data to filterbank file: ./filfromfits_28.fil 2020-08-26 20:02:54,118 - your.formats.filwriter - MainThread - INFO - Output file does not already exist. Creating a new Filterbank file. 2020-08-26 20:02:54,157 - your.formats.filwriter - MainThread - INFO - Writing 10 spectra to file: ./filfromfits_28.fil 2020-08-26 20:02:54,159 - your.formats.filwriter - MainThread - INFO - Successfully written data to Filterbank file: ./filfromfits_28.fil We can just read this Filterbank using Your to make sure that the header parameters and the data are correctly written. In [6]: your_written_filterbank = Your ( \"filfromfits_28.fil\" ) your_written_filterbank . your_header Out[6]: Unified Header: \"basename\": \"filfromfits_28\" \"bw\": -90.0 \"center_freq\": 1410.0 \"dec_deg\": 13.964475555555554 \"dtype\": \"uint8\" \"fch1\": 1455.0 \"filelist\": [ \"filfromfits_28.fil\" ] \"filename\": \"filfromfits_28.fil\" \"foff\": -1.0 \"frequency_decimation_factor\": 1 \"gb\": 75.61933243565039 \"gl\": 97.96004079061271 \"isfil\": true \"isfits\": false \"native_foff\": -1.0 \"native_nchans\": 90 \"native_nspectra\": 10.0 \"native_tsamp\": 0.00126646875 \"nbits\": 8 \"nchans\": 90 \"npol\": 1 \"nspectra\": 10.0 \"ra_deg\": 186.65681708333335 \"source_name\": \"src1\" \"time_decimation_factor\": 1 \"tsamp\": 0.00126646875 \"tstart\": 58682.620316710374 \"tstart_utc\": \"2019-07-18T14:53:15.364\" We can also compare data from both the original file and the newly written file: In [7]: original_data = your_original_file . get_data ( 0 , 10 )[:, 10 : 100 ] filterbank_data = your_written_filterbank . get_data ( 0 , 10 ) In [8]: np . array_equal ( original_data , filterbank_data ) Out[8]: True Looks good!","title":"Writing Filterbanks"},{"location":"ipynb/Writer/#writing-psrfits","text":"All the inputs defined while declaring Writer are still gonna be used. Let's change the outname for clarity and select some channels In [9]: writer_object = Writer ( your_original_file , nstart = 0 , nsamp = 10 , c_min = 0 , c_max = 100 , outdir = \".\" , outname = \"fitsfromfits_28\" , ) In [10]: writer_object . outname = \"fitsfromfits_28\" writer_object . c_min = 0 writer_object . c_max = 100 To write a PSRFITS we use the to_fits method, In [11]: writer_object . to_fits () 2020-08-26 20:02:54,342 - root - MainThread - INFO - ObsInfo updated with relevant parameters 2020-08-26 20:02:54,357 - your.formats.fitswriter - MainThread - INFO - Setting the following info to be written in ./fitsfromfits_28.fits { \"ant_x\": -1601185.63, \"ant_y\": -5041978.15, \"ant_z\": 3554876.43, \"bmaj_deg\": 0.0, \"bmin_deg\": 0.0, \"bpa_deg\": 0.0, \"bw\": -100.0, \"chan_bw\": -1.0, \"dec_str\": \"13:57:52.1120\", \"dt\": 0.00126646875, \"fcenter\": 1415.0, \"file_date\": \"2020-08-27T00:02:54\", \"longitude\": -107.61833443381258, \"nbits\": 8, \"nchan\": 100, \"nsblk\": 10, \"nsuboffs\": 0.0, \"obs_date\": \"2019-07-18T14:53:15\", \"observer\": \"Human\", \"proj_id\": \"Awesome_Project\", \"ra_str\": \"12:26:37.6361\", \"scan_len\": 0.0126646875, \"src_name\": \"src1\", \"stt_imjd\": 58682, \"stt_lst\": 12438.193191755068, \"stt_offs\": 0.3637763159349561, \"stt_smjd\": 53595, \"telescope\": \"VLA\" } 2020-08-26 20:02:54,378 - root - MainThread - INFO - Building the PSRFITS table 2020-08-26 20:02:54,461 - root - MainThread - INFO - Writing PSRFITS table to file: ./fitsfromfits_28.fits 2020-08-26 20:02:54,530 - root - MainThread - INFO - Header information written in ./fitsfromfits_28.fits 2020-08-26 20:02:54,532 - your.writer - MainThread - INFO - Filling PSRFITS file with data 2020-08-26 20:02:54,605 - your.writer - MainThread - INFO - Number of subints to write 1 2020-08-26 20:02:54,623 - your.writer - MainThread - INFO - Writing data to ./fitsfromfits_28.fits from subint = 0 to 1. 2020-08-26 20:02:55,469 - your.writer - MainThread - INFO - All spectra written to ./fitsfromfits_28.fits Similar to reading the PSRFITS file, we can also read a filterbank file and convert to both formats by first defining a writer_object and using the to_fits and to_fil methods.","title":"Writing PSRFITS"},{"location":"utils/astro/","text":"[source] dec2deg your . utils . astro . dec2deg ( src_dej ) Convert the SIGPROC-style DDMMSS.SSSS declination to degrees Args: src_dej (float): Source dec [source] ra2deg your . utils . astro . ra2deg ( src_raj ) Convert the SIGPROC-style HHMMSS.SSSS right ascension to degrees Args: src_raj (float): Source RA","title":"Astro"},{"location":"utils/astro/#dec2deg","text":"your . utils . astro . dec2deg ( src_dej ) Convert the SIGPROC-style DDMMSS.SSSS declination to degrees Args: src_dej (float): Source dec [source]","title":"dec2deg"},{"location":"utils/astro/#ra2deg","text":"your . utils . astro . ra2deg ( src_raj ) Convert the SIGPROC-style HHMMSS.SSSS right ascension to degrees Args: src_raj (float): Source RA","title":"ra2deg"},{"location":"utils/gpu/","text":"[source] gpu_dedisperse your . utils . gpu . gpu_dedisperse ( cand , device = 0 ) GPU dedispersion (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source] gpu_dmt your . utils . gpu . gpu_dmt ( cand , device = 0 ) GPU DM-Time bow-tie (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source] gpu_dedisp_and_dmt_crop your . utils . gpu . gpu_dedisp_and_dmt_crop ( cand , device = 0 ) GPU based dedispersion, DM time bow-time plot and crop it to 256x256 shaped arrays (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source] get_gpu_memory_map your . utils . gpu . get_gpu_memory_map ( gpu_id ) Get the current gpu free memory Args: gpu_id (int): GPU id Returns: int : amount of free GPU RAM","title":"GPU"},{"location":"utils/gpu/#gpu_dedisperse","text":"your . utils . gpu . gpu_dedisperse ( cand , device = 0 ) GPU dedispersion (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source]","title":"gpu_dedisperse"},{"location":"utils/gpu/#gpu_dmt","text":"your . utils . gpu . gpu_dmt ( cand , device = 0 ) GPU DM-Time bow-tie (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source]","title":"gpu_dmt"},{"location":"utils/gpu/#gpu_dedisp_and_dmt_crop","text":"your . utils . gpu . gpu_dedisp_and_dmt_crop ( cand , device = 0 ) GPU based dedispersion, DM time bow-time plot and crop it to 256x256 shaped arrays (by rolling the array) Args: cand : Candidate instance device ( int ): GPU ID Returns: candidate object [source]","title":"gpu_dedisp_and_dmt_crop"},{"location":"utils/gpu/#get_gpu_memory_map","text":"your . utils . gpu . get_gpu_memory_map ( gpu_id ) Get the current gpu free memory Args: gpu_id (int): GPU id Returns: int : amount of free GPU RAM","title":"get_gpu_memory_map"},{"location":"utils/heimdall/","text":"[source] HeimdallManager your . utils . heimdall . HeimdallManager ( dada_key = None , filename = None , verbosity = None , nsamps_gulp = 262144 , beam = None , baseline_length = 2 , output_dir = None , dm = None , dm_tol = 1.25 , zap_chans = None , max_giant_rate = None , dm_nbits = 32 , gpu_id = None , no_scrunching = False , rfi_tol = 5 , rfi_no_narrow = False , rfi_no_broad = False , boxcar_max = 4096 , fswap = None , min_tscrunch_width = None , ) So you want to run heimdall, here is wrapper class which will allow you to do just that. Args: dada_key ( hex ): use PSRDADA hexidecimal key filename ( str ): process specified SIGPROC filterbank file verbosity ( str ): v , V , g , G increase verbosity level nsamps_gulp ( int ): number of samples to be read at a time beam ( int ) : over - ride beam number baseline_length ( float ): number of seconds over which to smooth the baseline output_dir ( str ) : create all output files in specified path dm ( list ): min and max DM dm_tol ( float ): SNR loss tolerance between each DM trial zap_chans ( int ): zap all channels between start and end channels inclusive max_giant_rate ( int ): limit the maximum number of individual detections per minute to nevents dm_nbits ( int ): number of bits per sample in dedispersed time series gpu_id ( int ): run on specified GPU no_scrunching ( bool ): don 't use an adaptive time scrunching during dedispersion rfi_tol ( float ): RFI exicision threshold limits rfi_no_narrow ( bool ): disable narrow band RFI excision rfi_no_broad ( bool ): disable 0 - DM RFI excision boxcar_max ( int ): maximum boxcar width in samples fswap ( bool ): swap channel ordering for negative DM - SIGPROC 2 , 4 or 8 bit only min_tscrunch_width : vary between high quality ( large value ) and high performance ( low value ) [source] run HeimdallManager . run () Make the heimdall command and run it.","title":"Heimdall"},{"location":"utils/heimdall/#heimdallmanager","text":"your . utils . heimdall . HeimdallManager ( dada_key = None , filename = None , verbosity = None , nsamps_gulp = 262144 , beam = None , baseline_length = 2 , output_dir = None , dm = None , dm_tol = 1.25 , zap_chans = None , max_giant_rate = None , dm_nbits = 32 , gpu_id = None , no_scrunching = False , rfi_tol = 5 , rfi_no_narrow = False , rfi_no_broad = False , boxcar_max = 4096 , fswap = None , min_tscrunch_width = None , ) So you want to run heimdall, here is wrapper class which will allow you to do just that. Args: dada_key ( hex ): use PSRDADA hexidecimal key filename ( str ): process specified SIGPROC filterbank file verbosity ( str ): v , V , g , G increase verbosity level nsamps_gulp ( int ): number of samples to be read at a time beam ( int ) : over - ride beam number baseline_length ( float ): number of seconds over which to smooth the baseline output_dir ( str ) : create all output files in specified path dm ( list ): min and max DM dm_tol ( float ): SNR loss tolerance between each DM trial zap_chans ( int ): zap all channels between start and end channels inclusive max_giant_rate ( int ): limit the maximum number of individual detections per minute to nevents dm_nbits ( int ): number of bits per sample in dedispersed time series gpu_id ( int ): run on specified GPU no_scrunching ( bool ): don 't use an adaptive time scrunching during dedispersion rfi_tol ( float ): RFI exicision threshold limits rfi_no_narrow ( bool ): disable narrow band RFI excision rfi_no_broad ( bool ): disable 0 - DM RFI excision boxcar_max ( int ): maximum boxcar width in samples fswap ( bool ): swap channel ordering for negative DM - SIGPROC 2 , 4 or 8 bit only min_tscrunch_width : vary between high quality ( large value ) and high performance ( low value ) [source]","title":"HeimdallManager"},{"location":"utils/heimdall/#run","text":"HeimdallManager . run () Make the heimdall command and run it.","title":"run"},{"location":"utils/math/","text":"[source] closest_number your . utils . math . closest_number ( big_num , small_num ) Finds the difference between the closest multiple of a smaller number with respect to a bigger number Args: big_num : The bigger number to find the closest of small_num : Number whose multiple is to be found and subtracted Returns: The difference between the closest multiple of a smaller number with respect to a bigger number [source] primes your . utils . math . primes ( n ) All the prime factors of a positive number Args: n : a positive number Returns: primes [source] closest_divisor your . utils . math . closest_divisor ( n , m ) Calculates the divisor of n, which is closest to (i.e bigger than) m Args: n : larger number of which divisor is to be found m : divisor closest to this number Returns: The divisor of n, which is closest to (i.e bigger than) m [source] find_gcd your . utils . math . find_gcd ( list_of_nos ) Greatest Common Divisor for a list of nos Args: list_of_nos : list of numbers Returns: GCD [source] normalise your . utils . math . normalise ( data ) Subtract median, divide by standard deviations Args: data (numpy.ndarray): data Returns: numpy.ndarray: normalised data [source] smad_plotter your . utils . math . smad_plotter ( freq_time , sigma = 5.0 , clip = True ) spectal Median Absolute Deviation clipper Args: freq_time : the frequency time data sigma ( float ): sigma at which to clip data clip ( bool ): if true replaces clips the data else replaces it with zeroes Returns: np.ndarray: clipped/flagged data","title":"Math"},{"location":"utils/math/#closest_number","text":"your . utils . math . closest_number ( big_num , small_num ) Finds the difference between the closest multiple of a smaller number with respect to a bigger number Args: big_num : The bigger number to find the closest of small_num : Number whose multiple is to be found and subtracted Returns: The difference between the closest multiple of a smaller number with respect to a bigger number [source]","title":"closest_number"},{"location":"utils/math/#primes","text":"your . utils . math . primes ( n ) All the prime factors of a positive number Args: n : a positive number Returns: primes [source]","title":"primes"},{"location":"utils/math/#closest_divisor","text":"your . utils . math . closest_divisor ( n , m ) Calculates the divisor of n, which is closest to (i.e bigger than) m Args: n : larger number of which divisor is to be found m : divisor closest to this number Returns: The divisor of n, which is closest to (i.e bigger than) m [source]","title":"closest_divisor"},{"location":"utils/math/#find_gcd","text":"your . utils . math . find_gcd ( list_of_nos ) Greatest Common Divisor for a list of nos Args: list_of_nos : list of numbers Returns: GCD [source]","title":"find_gcd"},{"location":"utils/math/#normalise","text":"your . utils . math . normalise ( data ) Subtract median, divide by standard deviations Args: data (numpy.ndarray): data Returns: numpy.ndarray: normalised data [source]","title":"normalise"},{"location":"utils/math/#smad_plotter","text":"your . utils . math . smad_plotter ( freq_time , sigma = 5.0 , clip = True ) spectal Median Absolute Deviation clipper Args: freq_time : the frequency time data sigma ( float ): sigma at which to clip data clip ( bool ): if true replaces clips the data else replaces it with zeroes Returns: np.ndarray: clipped/flagged data","title":"smad_plotter"},{"location":"utils/misc/","text":"[source] crop your . utils . misc . crop ( data , start_sample , length , axis ) Crops the input array to a required size Args: data : Data array to crop start_sample : Sample to start the output cropped array length : Final Length along the axis of the output axis : Axis to crop Returns: Cropped array [source] pad_along_axis your . utils . misc . pad_along_axis ( array , target_length , loc = \"end\" , axis = 0 , ** kwargs ) Pads data along the required axis on the input array to reach a target size Args: array : Input array to pad target_length : Required length of the axis loc : Location to pad : start : pad in beginning , end : pad in end , else : pad equally on both sides axis : Axis to pad along Returns: Padded array [source] MyEncoder your . utils . misc . MyEncoder ( * , skipkeys = False , ensure_ascii = True , check_circular = True , allow_nan = True , sort_keys = False , indent = None , separators = None , default = None ) Custom Encoder Class to convert any class to a JSON serializable object","title":"Misc"},{"location":"utils/misc/#crop","text":"your . utils . misc . crop ( data , start_sample , length , axis ) Crops the input array to a required size Args: data : Data array to crop start_sample : Sample to start the output cropped array length : Final Length along the axis of the output axis : Axis to crop Returns: Cropped array [source]","title":"crop"},{"location":"utils/misc/#pad_along_axis","text":"your . utils . misc . pad_along_axis ( array , target_length , loc = \"end\" , axis = 0 , ** kwargs ) Pads data along the required axis on the input array to reach a target size Args: array : Input array to pad target_length : Required length of the axis loc : Location to pad : start : pad in beginning , end : pad in end , else : pad equally on both sides axis : Axis to pad along Returns: Padded array [source]","title":"pad_along_axis"},{"location":"utils/misc/#myencoder","text":"your . utils . misc . MyEncoder ( * , skipkeys = False , ensure_ascii = True , check_circular = True , allow_nan = True , sort_keys = False , indent = None , separators = None , default = None ) Custom Encoder Class to convert any class to a JSON serializable object","title":"MyEncoder"},{"location":"utils/plotter/","text":"[source] figsize your . utils . plotter . figsize ( scale , width_by_height_ratio ) Create figure size either a full page or a half page figure Args: scale ( float ): 0 . 5 for half page figure , 1 for full page width_by_height_ratio ( float ): ratio of width to height for the figure Returns: list : list of width and height [source] get_params your . utils . plotter . get_params ( scale = 0.5 , width_by_height_ratio = 1 ) Create a dictionary for pretty plotting Args: scale ( float ): 0 . 5 for half page figure , 1 for full page width_by_height_ratio ( float ): ratio of width to height for the figure Returns: dict : dictionary of parameters [source] plot_h5 your . utils . plotter . plot_h5 ( h5_file , save = True , detrend_ft = True , publication = False , mad_filter = False , outdir = None ) Plot the h5 candidates Args: mad_filter ( int ): use MAD filter to clip data h5_file ( str ): Name of the h5 file save ( bool ): Save the file as a png detrend_ft ( bool ): detrend the frequency time plot publication ( bool ): make publication quality plot outdir ( str ): Path to the save the files into . Returns: None [source] save_bandpass your . utils . plotter . save_bandpass ( your_object , bandpass , chan_nos = None , mask = None , outdir = None , outname = None ) Plots and saves the bandpass Args: your_object : Your object bandpass ( np . ndarray ): Bandpass of the data chan_nos ( np . ndarray ): Array of channel numbers mask ( np . ndarray ): Boolean Array of channel mask outdir ( str ) : Output directory to save the plot outname ( str ): Name of the bandpass file","title":"Plotter"},{"location":"utils/plotter/#figsize","text":"your . utils . plotter . figsize ( scale , width_by_height_ratio ) Create figure size either a full page or a half page figure Args: scale ( float ): 0 . 5 for half page figure , 1 for full page width_by_height_ratio ( float ): ratio of width to height for the figure Returns: list : list of width and height [source]","title":"figsize"},{"location":"utils/plotter/#get_params","text":"your . utils . plotter . get_params ( scale = 0.5 , width_by_height_ratio = 1 ) Create a dictionary for pretty plotting Args: scale ( float ): 0 . 5 for half page figure , 1 for full page width_by_height_ratio ( float ): ratio of width to height for the figure Returns: dict : dictionary of parameters [source]","title":"get_params"},{"location":"utils/plotter/#plot_h5","text":"your . utils . plotter . plot_h5 ( h5_file , save = True , detrend_ft = True , publication = False , mad_filter = False , outdir = None ) Plot the h5 candidates Args: mad_filter ( int ): use MAD filter to clip data h5_file ( str ): Name of the h5 file save ( bool ): Save the file as a png detrend_ft ( bool ): detrend the frequency time plot publication ( bool ): make publication quality plot outdir ( str ): Path to the save the files into . Returns: None [source]","title":"plot_h5"},{"location":"utils/plotter/#save_bandpass","text":"your . utils . plotter . save_bandpass ( your_object , bandpass , chan_nos = None , mask = None , outdir = None , outname = None ) Plots and saves the bandpass Args: your_object : Your object bandpass ( np . ndarray ): Bandpass of the data chan_nos ( np . ndarray ): Array of channel numbers mask ( np . ndarray ): Boolean Array of channel mask outdir ( str ) : Output directory to save the plot outname ( str ): Name of the bandpass file","title":"save_bandpass"},{"location":"utils/rfi/","text":"[source] savgol_filter your . utils . rfi . savgol_filter ( bandpass , channel_bandwidth , frequency_window = 15 , sigma = 6 ) Apply savgol filter to the data. See Agarwal el al. 2020 for details. Args: bandpass ( numpy . ndarray ): bandpass of the data channel_bandwidth ( float ): channel bandwidth ( MHz ) frequency_window ( float ): frequency window ( MHz ) sigma ( float ): sigma value to apply cutoff on Returns: numpy.ndarray: mask for channels [source] spectral_kurtosis your . utils . rfi . spectral_kurtosis ( data , N = 1 , d = None ) Compute spectral kurtosis. See Nita et al. (2016) for details. Args: data ( numpy . ndarray ): 2 D frequency time data N ( int ): Number of accumulations on the FPGA d ( float ): shape factor numpy . ndarray : Spectral Kurtosis along frequency axis [source] sk_filter your . utils . rfi . sk_filter ( data , channel_bandwidth , nchans , tsamp , N = None , d = 1 , sigma = 5 ) Apply Spectral Kurtosis filter to the data Args: data ( numpy . ndarray ): 2 D frequency time data channel_bandwidth ( float ): channel bandwidth ( MHz ) nchans ( int ): number of channels tsamp ( float ): sampling time ( seconds ) N ( int ): Number of accumulations on the FPGA d ( float ): shape factor sigma ( float ): sigma value to apply cutoff on Returns: numpy.ndarray: mask for channels [source] calc_N your . utils . rfi . calc_N ( channel_bandwidth , nchans , tsamp ) Calculates number of accumulations on FPGA Args: channel_bandwidth ( float ): channel bandwidth ( MHz ) nchans ( int ): number of channels tsamp ( float ): sampling time ( seconds ) Returns: int : FPGA accumulation length [source] sk_sg_filter your . utils . rfi . sk_sg_filter ( data , your_object , nchans , spectral_kurtosis_sigma = 6 , savgol_frequency_window = 15 , savgol_sigma = 5 ) Apply Spectral Kurtosis and Savgol filter to the data Args: data ( numpy . ndarray ): 2 D frequency time data your_object : Your object nchans ( int ): number of channels spectral_kurtosis_sigma ( float ): sigma value to apply cutoff on for SK filter savgol_frequency_window ( float ): frequency window for savgol filter ( MHz ) savgol_sigma ( float ): sigma value to apply cutoff on for savgol filter Returns: numpy.ndarray: mask for channels","title":"RFI"},{"location":"utils/rfi/#savgol_filter","text":"your . utils . rfi . savgol_filter ( bandpass , channel_bandwidth , frequency_window = 15 , sigma = 6 ) Apply savgol filter to the data. See Agarwal el al. 2020 for details. Args: bandpass ( numpy . ndarray ): bandpass of the data channel_bandwidth ( float ): channel bandwidth ( MHz ) frequency_window ( float ): frequency window ( MHz ) sigma ( float ): sigma value to apply cutoff on Returns: numpy.ndarray: mask for channels [source]","title":"savgol_filter"},{"location":"utils/rfi/#spectral_kurtosis","text":"your . utils . rfi . spectral_kurtosis ( data , N = 1 , d = None ) Compute spectral kurtosis. See Nita et al. (2016) for details. Args: data ( numpy . ndarray ): 2 D frequency time data N ( int ): Number of accumulations on the FPGA d ( float ): shape factor numpy . ndarray : Spectral Kurtosis along frequency axis [source]","title":"spectral_kurtosis"},{"location":"utils/rfi/#sk_filter","text":"your . utils . rfi . sk_filter ( data , channel_bandwidth , nchans , tsamp , N = None , d = 1 , sigma = 5 ) Apply Spectral Kurtosis filter to the data Args: data ( numpy . ndarray ): 2 D frequency time data channel_bandwidth ( float ): channel bandwidth ( MHz ) nchans ( int ): number of channels tsamp ( float ): sampling time ( seconds ) N ( int ): Number of accumulations on the FPGA d ( float ): shape factor sigma ( float ): sigma value to apply cutoff on Returns: numpy.ndarray: mask for channels [source]","title":"sk_filter"},{"location":"utils/rfi/#calc_n","text":"your . utils . rfi . calc_N ( channel_bandwidth , nchans , tsamp ) Calculates number of accumulations on FPGA Args: channel_bandwidth ( float ): channel bandwidth ( MHz ) nchans ( int ): number of channels tsamp ( float ): sampling time ( seconds ) Returns: int : FPGA accumulation length [source]","title":"calc_N"},{"location":"utils/rfi/#sk_sg_filter","text":"your . utils . rfi . sk_sg_filter ( data , your_object , nchans , spectral_kurtosis_sigma = 6 , savgol_frequency_window = 15 , savgol_sigma = 5 ) Apply Spectral Kurtosis and Savgol filter to the data Args: data ( numpy . ndarray ): 2 D frequency time data your_object : Your object nchans ( int ): number of channels spectral_kurtosis_sigma ( float ): sigma value to apply cutoff on for SK filter savgol_frequency_window ( float ): frequency window for savgol filter ( MHz ) savgol_sigma ( float ): sigma value to apply cutoff on for savgol filter Returns: numpy.ndarray: mask for channels","title":"sk_sg_filter"}]}